(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return bu}),n.d(e,"c",function(){return pu}),n.d(e,"d",function(){return fu}),n.d(e,"e",function(){return du}),n.d(e,"f",function(){return fc}),n.d(e,"g",function(){return nc}),n.d(e,"h",function(){return ba}),n.d(e,"i",function(){return ku}),n.d(e,"j",function(){return Ho}),n.d(e,"k",function(){return Ou}),n.d(e,"l",function(){return Go}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return Wa}),n.d(e,"o",function(){return is}),n.d(e,"p",function(){return Cn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return sn}),n.d(e,"s",function(){return _s}),n.d(e,"t",function(){return fa}),n.d(e,"u",function(){return pa}),n.d(e,"v",function(){return wu}),n.d(e,"w",function(){return ka}),n.d(e,"x",function(){return ic}),n.d(e,"y",function(){return Aa}),n.d(e,"z",function(){return Zu}),n.d(e,"A",function(){return Du}),n.d(e,"B",function(){return Tn}),n.d(e,"C",function(){return vu}),n.d(e,"D",function(){return yu}),n.d(e,"E",function(){return Yo}),n.d(e,"F",function(){return Wo}),n.d(e,"G",function(){return Tr}),n.d(e,"H",function(){return Xo}),n.d(e,"I",function(){return gr}),n.d(e,"J",function(){return In}),n.d(e,"K",function(){return ac}),n.d(e,"L",function(){return Ca}),n.d(e,"M",function(){return Vu}),n.d(e,"N",function(){return an}),n.d(e,"O",function(){return ta}),n.d(e,"P",function(){return Jo}),n.d(e,"Q",function(){return Pa}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Xu}),n.d(e,"T",function(){return Wu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return $u}),n.d(e,"W",function(){return lc}),n.d(e,"X",function(){return Hu}),n.d(e,"Y",function(){return _u}),n.d(e,"Z",function(){return os}),n.d(e,"ab",function(){return Ao}),n.d(e,"bb",function(){return dr}),n.d(e,"cb",function(){return Yn}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return qn}),n.d(e,"fb",function(){return Qn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return zn}),n.d(e,"jb",function(){return Co}),n.d(e,"kb",function(){return cc}),n.d(e,"lb",function(){return To}),n.d(e,"mb",function(){return Io}),n.d(e,"nb",function(){return Vn}),n.d(e,"ob",function(){return B}),n.d(e,"pb",function(){return As}),n.d(e,"qb",function(){return Qs}),n.d(e,"rb",function(){return Hs}),n.d(e,"sb",function(){return zs}),n.d(e,"tb",function(){return So}),n.d(e,"ub",function(){return It}),n.d(e,"vb",function(){return f}),n.d(e,"wb",function(){return Fn}),n.d(e,"xb",function(){return Os}),n.d(e,"yb",function(){return wt}),n.d(e,"zb",function(){return Vo}),n.d(e,"Ab",function(){return ci}),n.d(e,"Bb",function(){return Ps}),n.d(e,"Cb",function(){return io}),n.d(e,"Db",function(){return ro}),n.d(e,"Eb",function(){return uu}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return O}),n.d(e,"Ib",function(){return E}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return Ns}),n.d(e,"Mb",function(){return Us}),n.d(e,"Nb",function(){return qs}),n.d(e,"Ob",function(){return Vs}),n.d(e,"Pb",function(){return Fs}),n.d(e,"Qb",function(){return Ls}),n.d(e,"Rb",function(){return Bs}),n.d(e,"Sb",function(){return Je}),n.d(e,"Tb",function(){return bo}),n.d(e,"Ub",function(){return On}),n.d(e,"Vb",function(){return en}),n.d(e,"Wb",function(){return hu}),n.d(e,"Xb",function(){return Ks}),n.d(e,"Yb",function(){return cu}),n.d(e,"Zb",function(){return Ws}),n.d(e,"ac",function(){return Rs}),n.d(e,"bc",function(){return Ga}),n.d(e,"cc",function(){return au}),n.d(e,"dc",function(){return Kt}),n.d(e,"ec",function(){return mr}),n.d(e,"fc",function(){return yr}),n.d(e,"gc",function(){return st}),n.d(e,"hc",function(){return no}),n.d(e,"ic",function(){return _o}),n.d(e,"jc",function(){return Ds}),n.d(e,"kc",function(){return mo}),n.d(e,"lc",function(){return yo}),n.d(e,"mc",function(){return vo});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${_(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,I)||C(t,A)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const I=l({"\u0275prov":l}),x=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function N(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function R(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||U||V,H={},z=[],Q=[],K=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||Q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[G]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||Q,declarations:t.declarations||Q,imports:t.imports||Q,exports:t.exports||Q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function st(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||Q,n.imports=e.imports||Q,n.exports=e.exports||Q})}function ot(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Et}function Et(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===H),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let Tt;function It(t){Tt=t}function xt(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}wt.ngInherit=!0;const kt={createRenderer:(t,e)=>xt()};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return jt(e[t])}function Dt(t,e){return jt(e[t.index])}function Nt(t,e){return t.data[e]}function Rt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function zt(){return Bt.lFrame.lView}function Qt(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function Gt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Bt.lFrame.currentTNode}function Wt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Bt.lFrame.isParent}function Zt(){Bt.lFrame.isParent=!1}function Xt(){return Bt.isInCheckNoChangesMode}function Jt(t){Bt.isInCheckNoChangesMode=t}function te(){return Bt.lFrame.bindingIndex++}function ee(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ne(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function ie(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function se(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Bt.lFrame.selectedIndex}function me(t){Bt.lFrame.selectedIndex=t}function ye(){const t=Bt.lFrame;return Nt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function be(t,e,n){Oe(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Se=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function je(t){return t!==Se}function Pe(t){return 32767&t}function De(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function Re(t){const e=Ne;return Ne=t,e}let Me=0;function Le(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ve(t,e),s=t.injectorIndex;if(je(i)){const t=Pe(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&j.Optional)return t;w(e,"NodeInjector")}function He(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&j.Optional):N(e,r,n&j.Optional)}finally{D(s)}}return Be(r,e,n)}function ze(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!ue(e,t,r))return r&j.Host?Be(i,n,r):He(e,n,r,i);try{const t=s();if(null!=t||r&j.Optional)return t;w(n)}finally{de()}}else if("number"==typeof s){let i=null,o=Ue(t,e),a=Se,u=r&j.Host?e[16][6]:null;for((-1===o||r&j.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],a!==Se&&Ze(r,!1)?(i=e[1],o=Pe(a),e=De(a,e)):o=-1);-1!==o;){const t=e[1];if(Ye(s,o,t.data)){const t=Ge(o,e,n,i,r,u);if(t!==Qe)return t}a=e[o+8],a!==Se&&Ze(r,e[1].data[o+8]===u)&&Ye(s,o,e)?(i=t,o=Pe(a),e=De(a,e)):o=-1}}}return He(e,n,r,i)}const Qe={};function Ke(){return new Xe(Gt(),zt())}function Ge(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=$e(a,o,n,null==r?mt(a)&&Ne:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==u?We(e,o,u,a):Qe}function $e(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Re(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;ue(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ot(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Re(a),o.resolving=!1,de()}}return i}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ze(t,e){return!(t&j.Self||t&j.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Je(t){return R(()=>{const e=t.prototype.constructor,n=e[Z]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return y(t)?()=>{const e=tn(m(t));return e&&e()}:bt(t)}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const nn="__parameters__";function rn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},mn=/\n/gm,yn="__source",vn=l({provide:String,useValue:l});let bn;function _n(t){const e=bn;return bn=t,e}function wn(t,e=j.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?N(t,void 0,e):bn.get(t,e&j.Optional?null:void 0,e)}function On(t,e=j.Default){return(P||wn)(m(t),e)}function En(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(On(t,n))}else e.push(On(r))}return e}function Sn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=Sn(rn("Inject",t=>({token:t})),-1),Tn=Sn(rn("Optional"),8),In=Sn(rn("SkipSelf"),4);let xn,An;function kn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,B.trustedTypes))try{xn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}function jn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,B.trustedTypes))try{An=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dn extends Pn{getTypeName(){return"HTML"}}class Nn extends Pn{getTypeName(){return"Style"}}class Rn extends Pn{getTypeName(){return"Script"}}class Mn extends Pn{getTypeName(){return"URL"}}class Ln extends Pn{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Pn&&t.getTypeName()||null}function qn(t){return new Dn(t)}function Bn(t){return new Nn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Mn(t)}function Qn(t){return new Ln(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(kn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=kn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match($n)||t.match(Wn)?t:"unsafe:"+t}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Zn("area,br,col,hr,img,wbr"),tr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Zn("rp,rt"),nr=Xn(er,tr),rr=Xn(Jn,Xn(tr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(er,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sr=Zn("srcset"),or=Xn(ir,sr,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Zn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!or.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ir[s]&&(o=Yn(o)),sr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(kn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==s);return kn((new ur).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=vr();return e?jn(e.sanitize(gr.HTML,t)||""):Un(t,"HTML")?jn(Fn(t)):dr(xt(),b(t))}function yr(t){const e=vr();return e?e.sanitize(gr.URL,t)||"":Un(t,"URL")?Fn(t):Yn(b(t))}function vr(){const t=zt();return t&&t[12]}function br(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function wr(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Er(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Cr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ir(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return pt(e)?e[3]:e}function Ar(t){return jr(t[13])}function kr(t){return jr(t[4])}function jr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Pr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?Ur(e,n,a):Fr(e,n,a,i||null,!0):1===t&&null!==n?Fr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==jt(n)&&Pr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Gr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Dr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Rr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Nr(s,r),e>0&&(t[n-1][4]=r[4]);const o=hn(t,ft+e);Gr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Gr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):jt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Fr(t,e,n,r,i):Ur(t,e,n)}function qr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Br(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Dt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(s,i,n[a],o,!1);else Vr(s,i,n,o,!1)}function Hr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hr(t,n);{const n=t[e.index];return pt(n)?Qr(-1,n):jt(n)}}if(32&n)return Ir(e,t)()||jt(t[e.index]);{const n=zr(t,e);return null!==n?Array.isArray(n)?n[0]:Hr(xr(t[16]),n):Hr(t,e.next)}}return null}function zr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Qr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Hr(t,r)}return e[7]}function Kr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Er(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Kr(t,e,n.child,r,i,s,!1),Pr(e,t,i,a,s);else if(32&u){const o=Ir(n,r);let u;for(;u=o();)Pr(e,t,i,u,s);Pr(e,t,i,a,s)}else 16&u?$r(t,e,r,n,i,s):Pr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gr(t,e,n,r,i,s){Kr(n,r,t.firstChild,e,i,s,!1)}function $r(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Pr(e,t,i,a[u],s);else Kr(t,e,a,o[3],i,s,!0)}function Wr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Xr="ng-template";function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ti(t){return 4===t.type&&t.value!==Xr}function ei(t,e,n){return e===(4!==t.type||n?t.value:Xr)}function ni(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ei(t,u,n)||""===u&&1===e.length){if(ri(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(ri(r))return!1;o=!0}continue}const l=ii(8&r?"class":u,i,ti(t),n);if(-1===l){if(ri(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Zr(e,c,0)||2&r&&c!==t){if(ri(r))return!1;o=!0}}}}else{if(!o&&!ri(r)&&!ri(u))return!1;if(o&&ri(u))continue;o=!1,r=u|1&r}}return ri(r)||o}function ri(t){return 0==(1&t)}function ii(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function si(t,e,n=!1){for(let r=0;r<e.length;r++)if(ni(t,e[r],n))return!0;return!1}function oi(t,e){return t?":not("+e.trim()+")":e}function ai(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ri(o)||(e+=oi(s,i),i=""),r=o,s=s||!ri(r);n++}return""!==i&&(e+=oi(s,i)),e}const ui={};function ci(t){li(Qt(),zt(),ge()+t,Xt())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}me(n)}function hi(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function di(t){return 2|t}function pi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function mi(t){return 1|t}function yi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];oe(i),n.contentQueries(2,e[s],s)}}}function vi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function bi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=$t(),o=Yt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Wt(s,!0),s}function _i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wi(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Zi(1,r,n);const i=t.template;null!==i&&Si(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yi(t,e),t.staticViewQueries&&Zi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const s=Xt();try{Vt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Si(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=kr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&yi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,s=n[++t],o=n[++t];ne(s,i),o(2,e[i])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Zi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{pe()}}function Ei(t,e,n,r){const i=e[10],s=!Xt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&wi(t,e,r),Oi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Si(t,e,n,r,i){const s=ge(),o=2&r;try{me(-1),o&&e.length>ht&&li(t,e,ht,Xt()),n(r,i)}finally{me(s)}}function Ci(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ti(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Le(n,e),Er(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Vi(e,n,r);const u=We(e,t,a,n);Er(u,e),null!==o&&qi(0,a-i,u,r,0,o),s&&(Rt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{me(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ri(r,i)}}finally{me(-1),re(o)}}(t,e,n))}function Ii(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ai(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ai(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ki(t,e,n,r){const i=Ji(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ts(t).push(r,i.length-1))}function ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Pi(t,e,n,r,i,s,o,a){const u=Dt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ns(t,n,c,r,i),mt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Di(t,e,n,r){let i=!1;if(Ht()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];si(n,o.selectors,!1)&&(i||(i=[]),qe(Le(n,e),t,o.type),vt(o)?(Mi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Fi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=_i(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,u,c),Li(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ti(e)?null:Bi(n,i);s.push(c),o=ji(n,u,o),a=ji(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Ni(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ce(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Ni(t,e,0,r,_i(t,n,i.hostVars,ui),i)}function Vi(t,e,n){const r=Dt(e,t),i=xi(n),s=t[10],o=Gi(t,vi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function qi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Bi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Hi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=Rt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(let n=Ar(t);null!==n;n=kr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Ft(r)&&r[5]>0&&Qi(r)}}function Ki(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),wi(r,n,n[8])}function Gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function $i(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Wi(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw es(e,i),i}finally{r.end&&r.end()}}function Yi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];Ei(i,r,i.template,n)}}(t[8])}function Zi(t,e,n){oe(0),e(t,n)}const Xi=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function ts(t){return t.cleanup||(t.cleanup=[])}function es(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function ns(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function rs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=d(i,t):2==s&&(r=d(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const is=new sn("INJECTOR",-1);class ss{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const os=new sn("Set Injector scope."),as={},us={},cs=[];let ls;function hs(){return void 0===ls&&(ls=new ss),ls}function fs(t,e=null,n=null,r){return new ds(t,n,e||hs(),r)}class ds{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(is,ms(void 0,this));const s=this.records.get(os);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=j.Default){this.assertNotDestroyed();const r=_n(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&S(t);e=n&&this.injectableDefInScope(n)?ms(ps(t),as):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?hs():this.parent).get(t,e=n&j.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(f(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[yn]&&i.unshift(e[yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{_n(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||cs))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,ms(a,as));const u=r.providers;if(null!=u&&!o){const e=t;cn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vs(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return ys(t)?ms(void 0,t.useValue):ms(gs(t),as)}(t);if(vs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ms(void 0,as,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===as&&(e.value=us,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ps(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function gs(t,e,n){let r;if(vs(t)){const e=m(t);return bt(e)||ps(e)}if(ys(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ps(e);r=()=>new e(...En(t.deps))}var i;return r}function ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ys(t){return null!==t&&"object"==typeof t&&vn in t}function vs(t){return"function"==typeof t}const bs=function(t,e,n){return function(t,e=null,n=null,r){const i=fs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let _s=(()=>{class t{static create(t,e){return Array.isArray(t)?bs(t,e,""):bs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new ss,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>On(is)}),t.__NG_ELEMENT_ID__=-1,t})();function ws(t,e){ve(Mt(t)[1],Gt())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Es(t.inputs),e.declaredInputs=Es(t.declaredInputs),e.outputs=Es(t.outputs);const n=i.hostBindings;n&&Ts(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ss(t,s),o&&Cs(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function Es(t){return t===H?{}:t===Q?[]:t}function Ss(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Cs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ts(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Is=null;function xs(){if(!Is){const t=B.Symbol;if(t&&t.iterator)Is=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Is=n)}}}return Is}function As(t){return!!ks(t)&&(Array.isArray(t)||!(t instanceof Map)&&xs()in t)}function ks(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function js(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ps(t,e,n,r){const i=zt();return js(i,te(),e)&&(Qt(),function(t,e,n,r,i,s){const o=Dt(t,e);!function(t,e,n,r,i,s,o){if(null==s)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ye(),i,t,e,n,r)),Ps}function Ds(t,e,n,r,i,s,o,a){const u=zt(),c=Qt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=bi(e,t,4,o||null,Ut(c,a));Di(e,n,l,Ut(c,u)),ve(e,l);const h=l.tViews=Ai(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Wt(h,!1);const f=u[11].createComment("");Br(c,u,f,h),Er(f,u),Gi(u,u[l]=Hi(f,u,f,h)),yt(h)&&Ti(c,u,h),null!=o&&Ii(u,h,a)}function Ns(t,e=j.Default){const n=zt();return null===n?On(t,e):ze(Gt(),n,m(t),e)}function Rs(t,e,n){const r=zt();return js(r,te(),e)&&Pi(Qt(),ye(),r,t,e,r[11],n,!1),Rs}function Ms(t,e,n,r,i){const s=i?"class":"style";ns(t,n,e.inputs[s],s,r)}function Ls(t,e,n,r){const i=zt(),s=Qt(),o=ht+t,a=i[11],u=i[o]=Dr(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=bi(e,t,2,i,Ut(a,s));return Di(e,n,u,Ut(a,o)),null!==u.attrs&&rs(u,u.attrs,!1),null!==u.mergedAttrs&&rs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Yr(a,u,h);const f=c.styles;null!==f&&Wr(a,u,f),64!=(64&c.flags)&&Br(s,i,u,c),0===Bt.lFrame.elementDepthCount&&Er(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(Ti(s,i,c),Ci(s,c,i)),null!==r&&Ii(i,c)}function Fs(){let t=Gt();Yt()?Zt():(t=t.parent,Wt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(ve(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,zt(),e.stylesWithoutHost,!1)}function Us(t,e,n,r){Ls(t,e,n,r),Fs()}function Vs(t,e,n){const r=zt(),i=Qt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ut(s,r),a=bi(e,t,8,"ng-container",o);return null!==o&&rs(a,o,!0),Di(e,n,a,Ut(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Wt(o,!0);const a=r[s]=r[11].createComment("");Br(i,r,a,o),Er(a,r),yt(o)&&(Ti(i,r,o),Ci(i,o,r)),null!=n&&Ii(r,o)}function qs(){let t=Gt();const e=Qt();Yt()?Zt():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(ve(e,t),gt(t)&&e.queries.elementEnd(t))}function Bs(){return zt()}function Hs(t){return!!t&&"function"==typeof t.then}function zs(t){return!!t&&"function"==typeof t.subscribe}const Qs=zs;function Ks(t,e,n=!1,r){const i=zt(),s=Qt(),o=Gt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&ts(t),l=Ji(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):H,p=d.target||f,g=l.length,m=a?t=>a(jt(t[r.index])).target:r.index;if(At(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=$s(r,e,0,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=$s(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=$s(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Ks}function Gs(t,e,n,r){try{return!1!==n(r)}catch(i){return es(t,i),!1}}function $s(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&$i(o);let a=Gs(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Gs(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ws(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Ys(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?fi(s):pi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Zs(t[a],e)&&(u=!0,t[a+1]=r?mi(n):di(n)),a=r?fi(n):pi(n)}u&&(t[n+1]=r?di(s):mi(s))}function Zs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}const Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Js(t){return t.substring(Xs.key,Xs.keyEnd)}function to(t,e){const n=Xs.textEnd;return n===e?-1:(e=Xs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Xs.key=e,n),eo(t,e,n))}function eo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function no(t,e,n){return oo(t,e,n,!1),no}function ro(t,e){return oo(t,e,null,!0),ro}function io(t){!function(t,e,n,r){const i=Qt(),s=ee(2);i.firstUpdatePass&&uo(i,null,s,r);const o=zt();if(n!==ui&&js(o,s,n)){const a=i.data[ge()];if(go(a,r)&&!ao(i,s)){let t=a.classesWithoutHost;null!==t&&(n=d(t,n||"")),Ms(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ui&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,o!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&ho(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Fn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(fn,so,t,!0)}function so(t,e){for(let n=function(t){return function(t){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=t.length}(t),to(t,eo(t,0,Xs.textEnd))}(e);n>=0;n=to(e,n))fn(t,Js(e),!0)}function oo(t,e,n,r){const i=zt(),s=Qt(),o=ee(2);s.firstUpdatePass&&uo(s,t,o,r),e!==ui&&js(i,o,e)&&ho(s,s.data[ge()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(Fn(t)))),t}(e,n),r,o)}function ao(t,e){return e>=t.expandoStartIndex}function uo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ge()],o=ao(t,n);go(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ie(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=lo(n=co(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=co(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==pi(r))return t[fi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=co(null,t,e,n[1],r),n=lo(n,e.attrs,r),function(t,e,n,r){t[fi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=lo(r,t[s].hostAttrs,n);return lo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),u=pi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=fi(t[a+1]);t[r+1]=hi(e,a),0!==e&&(t[e+1]=gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=hi(a,0),0!==a&&(t[a+1]=gi(t[a+1],r)),a=r;else t[r+1]=hi(u,0),0===a?a=r:t[u+1]=gi(t[u+1],r),u=r;l&&(t[r+1]=di(t[r+1])),Ys(t,c,r,!0),Ys(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&pn(s,e)>=0&&(n[r+1]=mi(n[r+1]))}(e,c,t,r,s),o=hi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function co(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=lo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function lo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function ho(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];po(1==(1&c)?fo(u,e,n,i,pi(c),o):void 0)||(po(s)||2==(2&c)&&(s=fo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=At(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Tr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Pt(ge(),n),i,s))}function fo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ui&&(l=c?z:void 0);let h=c?dn(l,r):u===r?l:void 0;if(s&&!po(h)&&(h=dn(e,r)),po(h)&&(a=h,o))return a;const f=t[i+1];i=o?fi(f):pi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function po(t){return void 0!==t}function go(t,e){return 0!=(t.flags&(e?16:32))}function mo(t,e=""){const n=zt(),r=Qt(),i=t+ht,s=r.firstCreatePass?bi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,o,s),Wt(s,!1)}function yo(t){return vo("",t,""),yo}function vo(t,e,n){const r=zt(),i=function(t,e,n,r){return js(t,te(),n)?e+b(n)+r:ui}(r,t,e,n);return i!==ui&&function(t,e,n){const r=Pt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),vo}function bo(t,e,n){const r=zt();return js(r,te(),e)&&Pi(Qt(),ye(),r,t,e,r[11],n,!0),bo}function _o(t,e,n){const r=zt();if(js(r,te(),e)){const i=Qt(),s=ye();Pi(i,s,r,t,e,function(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ie(i.data),s,r),n,!0)}return _o}const wo=void 0;var Oo=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Eo={};function So(t,e,n){"string"!=typeof e&&(n=e,e=t[Ao.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Eo[e]=t,n&&(Eo[e][Ao.ExtraData]=n)}function Co(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xo(e);if(n)return n;const r=e.split("-")[0];if(n=xo(r),n)return n;if("en"===r)return Oo;throw new Error(`Missing locale data for the locale "${t}".`)}function To(t){return Co(t)[Ao.CurrencyCode]||null}function Io(t){return Co(t)[Ao.PluralCase]}function xo(t){return t in Eo||(Eo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Eo[t]}var Ao=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ko="en-US";let jo=ko;function Po(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(jo=t.toLowerCase().replace(/_/g,"-"))}function Do(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)Do(t[s],e,n,r,i);else{const s=Qt(),o=zt();let a=vs(t)?t:m(t.provide),u=gs(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(vs(t)||!t.multi){const r=new Ce(u,i,Ns),d=Mo(a,e,i?l:l+f,h);-1===d?(qe(Le(c,o),s,a),No(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Mo(a,e,l+f,h),p=Mo(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qe(Le(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,Ns);return s.multi=[],s.index=e,s.componentProviders=0,Ro(s,i,r&&!n),s}(i?Fo:Lo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),No(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else No(s,t,d>-1?d:p,Ro(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function No(t,e,n,r){const i=vs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ro(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Lo(t,e,n,r){return Uo(this.multi,[])}function Fo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Uo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Uo(i,s);return s}function Uo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Vo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=vt(t);Do(n,r.data,r.blueprint,i,!0),Do(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class qo{}class Bo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ho=(()=>{class t{}return t.NULL=new Bo,t})();function zo(...t){}function Qo(t,e){return new Go(Dt(t,e))}const Ko=function(){return Qo(Gt(),zt())};let Go=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ko,t})();function $o(t){return t instanceof Go?t.nativeElement:t}class Wo{}let Yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zo(),t})();const Zo=function(){const t=zt(),e=Rt(Gt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Xo=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Jo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ta=new Jo("11.2.11");class ea{constructor(){}supports(t){return As(t)}create(t){return new ra(t)}}const na=(t,e)=>e;class ra{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||na}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<aa(n,r,i)?e:n,o=aa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!As(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ia(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new oa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ia{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class oa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new sa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ua{constructor(){}supports(t){return t instanceof Map||ks(t)}create(){return new ca}}class ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ks(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new la(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class la{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ha(){return new fa([new ea])}let fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ha()),deps:[[t,new In,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:ha}),t})();function da(){return new pa([new ua])}let pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||da()),deps:[[t,new In,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:da}),t})();function ga(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(jt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ga(e[1],e,n,r)}const o=n.type;if(8&o)ga(t,e,n.child,r);else if(32&o){const t=Ir(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=zr(e,n);if(Array.isArray(t))r.push(...t);else{const n=xr(e[16]);ga(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ma{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ga(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Rr(t,n),hn(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){ki(this._lView[1],this._lView,null,t)}markForCheck(){$i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Wi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Gr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ya extends ma{constructor(t){super(t),this._view=t}detectChanges(){Yi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Yi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const va=_a;let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t.__ChangeDetectorRef__=!0,t})();function _a(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Rt(t.index,e);return new ma(n,n)}return 47&t.type?new ma(e[16],e):null}(Gt(),zt(),t)}const wa=[new ua],Oa=new fa([new ea]),Ea=new pa(wa),Sa=function(){return xa(Gt(),zt())};let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ta=Ca,Ia=class extends Ta{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),wi(e,n,t),new ma(n)}};function xa(t,e){return 4&t.type?new Ia(e,t,Qo(t,e)):null}class Aa{}class ka{}const ja=function(){return La(Gt(),zt())};let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t})();const Da=Pa,Na=class extends Da{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(je(t)){const e=De(t,this._hostLView),n=Pe(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ra(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Aa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Na(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],ln(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Qr(i,s),a=n[11],u=qr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Gr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),ln(Ma(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ra(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Rr(this._lContainer,e);n&&(hn(Ma(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Rr(this._lContainer,e);return n&&null!=hn(Ma(this._lContainer),e)?new ma(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ra(t){return t[8]}function Ma(t){return t[8]||(t[8]=[])}function La(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Fr(n,qr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Hi(r,e,i,t),Gi(e,n)}return new Na(n,t,e)}const Fa={};class Ua extends Ho{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ba(e,this.ngModule)}}function Va(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const qa=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class Ba extends qo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ai).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Va(this.componentDef.inputs)}get outputs(){return Va(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Fa,i);return s!==Fa||r===Fa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Wo,kt),o=i.get(Xo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:Xi,playerHandler:null,flags:0},f=Ai(0,null,null,1,0,null,null,null,null,null),d=vi(null,f,h,l,null,null,s,a,o,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=bi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(rs(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Yr(i,t,a.classes),null!==a.styles&&Wr(i,t,a.styles)));const c=r.createRenderer(t,e),l=vi(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(qe(Le(a,n),o,e.type),Mi(o,a),Fi(a,n.length,1)),Gi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Te(a,c,["ng-version",ta.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ri(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Yr(a,c,e.join(" "))}if(g=Nt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,_i(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);Er(i,e);const s=Dt(r,e);return s&&Er(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),Ni(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ri(e,o)),o}(t,this.componentDef,d,h,[ws]),wi(f,d,null)}finally{pe()}return new Ha(this.componentType,p,Qo(g,d),d,g)}}class Ha extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ya(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const za=new Map;class Qa extends Aa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ua(this);const n=lt(t),r=t[Y]||null;r&&Po(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=fs(t,e,[{provide:Aa,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=_s.THROW_IF_NOT_FOUND,n=j.Default){return t===_s||t===Aa||t===is?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ka extends ka{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,za.get(i),n),za.set(i,n));const s=Cr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Qa(this.moduleType,t)}}function Ga(t,e,n){const r=function(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=zt();return i[r]===ui?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function $a(t){return e=>{setTimeout(t,void 0,e)}}const Wa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=$a(u),a&&(a=$a(a)),c&&(c=$a(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Ya(){return this._results[xs()]()}class Za{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xs(),n=Za.prototype;n[e]||(n[e]=Ya)}get changes(){return this._changes||(this._changes=new Wa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Xa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ja{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ja(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==lu(t,e).matches&&this.queries[e].setDirty()}}class tu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class eu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new eu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class nu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new nu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ru(e,i)),this.matchTNodeWithReadOption(t,e,$e(e,t,i,!1,!1))}else n===Ca?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Go||r===Pa||r===Ca&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ru(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function iu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Qo(t,e):4&t.type?xa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Go?Qo(e,t):n===Ca?xa(e,t):n===Pa?La(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function su(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:iu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function ou(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=su(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&ou(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];ou(n[1],n,i,r)}}}}}return r}function au(t){const e=zt(),n=Qt(),r=se();oe(r+1);const i=lu(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?ou(n,e,r,[]):su(n,e,i,r);t.reset(s,$o),t.notifyOnChanges()}return!0}return!1}function uu(t,e,n,r){const i=Qt();if(i.firstCreatePass){const s=Gt();(function(t,e,n){null===t.queries&&(t.queries=new eu),t.queries.track(new nu(e,n))})(i,new tu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Za(4==(4&n));ki(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ja),e[19].queries.push(new Xa(r))}(i,zt(),n)}function cu(){return t=zt(),e=se(),t[19].queries[e].queryList;var t,e}function lu(t,e){return t.queries.getByIndex(e)}function hu(t=j.Default){const e=_a(!0);if(null!=e||t&j.Optional)return e;w("ChangeDetectorRef")}const fu=new sn("Application Initializer");let du=(()=>{class t{constructor(t){this.appInits=t,this.resolve=zo,this.reject=zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Hs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(fu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const pu=new sn("AppId"),gu={provide:pu,useFactory:function(){return`${mu()}${mu()}${mu()}`},deps:[]};function mu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yu=new sn("Platform Initializer"),vu=new sn("Platform ID"),bu=new sn("appBootstrapListener");let _u=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const wu=new sn("LocaleId"),Ou=new sn("DefaultCurrencyCode");class Eu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Su=function(t){return new Ka(t)},Cu=Su,Tu=function(t){return Promise.resolve(Su(t))},Iu=function(t){const e=Su(t),n=Cr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ba(n)),t},[]);return new Eu(e,n)},xu=Iu,Au=function(t){return Promise.resolve(Iu(t))};let ku=(()=>{class t{constructor(){this.compileModuleSync=Cu,this.compileModuleAsync=Tu,this.compileModuleAndAllComponentsSync=xu,this.compileModuleAndAllComponentsAsync=Au}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const ju=(()=>Promise.resolve(0))();function Pu(t){"undefined"==typeof Zone?ju.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Du{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mu(t),Ru(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Lu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Fu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Lu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Fu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Mu(t),Ru(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Nu,zo,zo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Nu={};function Ru(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fu(t){t._nesting--,Ru(t)}class Uu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Vu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Du.assertNotInAngularZone(),Pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(Du))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),qu=(()=>{class t{constructor(){this._applications=new Map,Qu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Qu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Bu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Hu(t){Qu=t}let zu,Qu=new Bu,Ku=!0,Gu=!1;function $u(){return Gu=!0,Ku}function Wu(){if(Gu)throw new Error("Cannot enable prod mode after platform setup.");Ku=!1}const Yu=new sn("AllowMultipleToken");class Zu{constructor(t,e){this.name=t,this.token=e}}function Xu(t,e,n=[]){const r=`Platform: ${e}`,i=new sn(r);return(e=[])=>{let s=Ju();if(!s||s.injector.get(Yu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:os,useValue:"platform"});!function(t){if(zu&&!zu.destroyed&&!zu.injector.get(Yu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zu=t.get(tc);const e=t.get(yu,null);e&&e.forEach(t=>t())}(_s.create({providers:t,name:r}))}return function(t){const e=Ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ju(){return zu&&!zu.destroyed?zu:null}let tc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Uu:("zone.js"===t?void 0:t)||new Du({enableLongStackTrace:$u(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Du,useValue:n}];return n.run(()=>{const e=_s.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Or,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{rc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(du);return t.runInitializers(),t.donePromise.then(()=>(Po(i.injector.get(wu,ko)||ko),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ec({},e);return function(t,e,n){const r=new Ka(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(nc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(_s))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function ec(t,e){return Array.isArray(e)?e.reduce(ec,t):Object.assign(Object.assign({},t),e)}let nc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Du.assertNotInAngularZone(),Pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof qo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Aa),i=n.create(_s.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Vu,null),a=o&&i.injector.get(qu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),rc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;rc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(Du),On(_s),On(Or),On(Ho),On(du))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function rc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ic{}class sc{}const oc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ac=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||oc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>uc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>uc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(ku),On(sc,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function uc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const cc=function(t){return null},lc=Xu(null,"core",[{provide:vu,useValue:"unknown"},{provide:tc,deps:[_s]},{provide:qu,deps:[]},{provide:_u,deps:[]}]),hc=[{provide:nc,useClass:nc,deps:[Du,_s,Or,Ho,du]},{provide:qa,deps:[Du],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:du,useClass:du,deps:[[new Tn,fu]]},{provide:ku,useClass:ku,deps:[]},gu,{provide:fa,useFactory:function(){return Oa},deps:[]},{provide:pa,useFactory:function(){return Ea},deps:[]},{provide:wu,useFactory:function(t){return Po(t=t||"undefined"!=typeof $localize&&$localize.locale||ko),t},deps:[[new Cn(wu),new Tn,new In]]},{provide:Ou,useValue:"USD"}];let fc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(On(nc))},t.\u0275mod=it({type:t}),t.\u0275inj=E({providers:hc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,u.A,[new u.B,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ub)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Ub)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ub)(o).location;return new b(Object(r.Ub)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(m),r.Ub(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Ub)(m),Object(r.Ub)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.mb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.t),r.Lb(r.u),r.Lb(r.l),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),A=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new k,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class k{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:T,useClass:I}]}),t})();function D(t){return"server"===t}let N=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new R(Object(r.Ub)(o),window)}),t})();class R{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=M(this.window.history)||M(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function M(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,F||(F=document.createElement("a")),F.setAttribute("href",n),"/"===F.pathname.charAt(0)?F.pathname:"/"+F.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let F,U=null;const V=new r.r("TRANSITION_ID"),q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[V,o,r.s],multi:!0}];class B{static init(){Object(r.X)(new B)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const H=new r.r("EventManagerPlugins");let z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(H),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let K=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t extends K{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach($),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function $(t){s().remove(t)}const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=/%COMP%/g;function Z(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Z(t,i,n):(i=i.replace(Y,t),n.push(i))}return n}function X(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let J=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new tt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new et(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new nt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(z),r.Ub(G),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(W[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=W[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=W[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,X(n)):this.eventManager.addEventListener(t,e,X(n))}}class et extends tt{constructor(t,e,n,r){super(t),this.component=n;const i=Z(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Y,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Y,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class nt extends tt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Z(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let rt=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const it=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},at={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ut=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(it.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return st[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),it.forEach(r=>{r!=n&&(0,at[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(lt)},token:t,providedIn:"root"}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.db)(e,"HTML")?Object(r.wb)(e):Object(r.bb)(this._doc,String(e)).toString();case r.I.STYLE:return Object(r.db)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.wb)(e):Object(r.cb)(String(e));case r.I.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Hb)({factory:function(){return t=Object(r.Ub)(r.o),new lt(t.get(o));var t},token:t,providedIn:"root"}),t})();const ht=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){L.makeCurrent(),B.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],ft=Object(r.S)(r.W,"browser",ht),dt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:H,useClass:rt,multi:!0,deps:[o,r.A,r.C]},{provide:H,useClass:ut,multi:!0,deps:[o]},[],{provide:J,useClass:J,deps:[z,G,r.c]},{provide:r.F,useExisting:J},{provide:K,useExisting:G},{provide:G,useClass:G,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:z,useClass:z,deps:[H,r.A]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:V,useExisting:r.c},q]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:dt,imports:[P,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("mrSG"),mt=n("XNiG"),yt=n("LRne"),vt=n("HDdC"),bt=n("Cfvw"),_t=n("VRyK"),wt=n("pxpQ"),Ot=n("lJxs"),Et=n("zx2A");function St(t,e){return"function"==typeof e?n=>n.pipe(St((n,r)=>Object(bt.a)(t(n,r)).pipe(Object(Ot.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ct(t))}class Ct{constructor(t){this.project=t}call(t,e){return e.subscribe(new Tt(t,this.project))}}class Tt extends Et.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Et.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Et.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var It=n("qgXg"),xt=n("quSY"),At=n("9ppp"),kt=n("Ylt2");class jt extends mt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Pt(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new At.a;if(this.isStopped||this.hasError?s=xt.a.EMPTY:(this.observers.push(t),s=new kt.a(this,t)),r&&t.add(t=new wt.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||It.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Pt{constructor(t,e){this.time=t,this.value=e}}function Dt(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new jt(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Rt=n("7o/Q");function Mt(t,e){return function(n){return n.lift(new Lt(t,e))}}class Lt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ft(t,this.predicate,this.thisArg))}}class Ft extends Rt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ut=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Vt=n("EY2u");function qt(t){return e=>0===t?Object(Vt.b)():e.lift(new Bt(t))}class Bt{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new Ht(t,this.total))}}class Ht extends Rt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function zt(t=null){return e=>e.lift(new Qt(t))}class Qt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Kt(t,this.defaultValue))}}class Kt extends Rt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Gt(t=Yt){return e=>e.lift(new $t(t))}class $t{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Wt(t,this.errorFactory))}}class Wt extends Rt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Zv){t=Zv}this.destination.error(t)}}}function Yt(){return new Nt}var Zt=n("SpAZ");function Xt(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mt((e,n)=>t(e,n,r)):Zt.a,qt(1),n?zt(e):Gt(()=>new Nt))}function Jt(t,e){return e?St(()=>t,e):St(()=>t)}var te=n("tf+s"),ee=n("spgP");const ne=new r.r("angularfire2.auth.use-emulator"),re=new r.r("angularfire2.auth.settings"),ie=new r.r("angularfire2.auth.tenant-id"),se=new r.r("angularfire2.auth.langugage-code"),oe=new r.r("angularfire2.auth.use-device-language"),ae=new r.r("angularfire.auth.persistence");let ue=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new ee.d(i),f=Object(ee.h)(h),d=new mt.a,p=Object(yt.a)(void 0).pipe(Object(wt.b)(h.outsideAngular),St(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ot.a)(()=>Object(ee.g)(t,i,e)),Object(Ot.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(ee.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Dt({bufferSize:1,refCount:!1}));if(D(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(yt.a)(null);else{p.pipe(Xt()).subscribe();const t=p.pipe(St(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Dt({bufferSize:1,refCount:!1})),e=t=>new vt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(St(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(St(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Jt(n),Object(te.a)(h.outsideAngular),Object(wt.b)(h.insideAngular)),this.user=t.pipe(Jt(r),Object(te.a)(h.outsideAngular),Object(wt.b)(h.insideAngular)),this.idToken=this.user.pipe(St(t=>t?Object(bt.a)(t.getIdToken()):Object(yt.a)(null))),this.idTokenResult=this.user.pipe(St(t=>t?Object(bt.a)(t.getIdTokenResult()):Object(yt.a)(null))),this.credential=Object(_t.a)(t,d,this.authState.pipe(Mt(t=>!t))).pipe(Object(Ot.a)(t=>(null==t?void 0:t.user)?t:null),Object(te.a)(h.outsideAngular),Object(wt.b)(h.insideAngular))}return Object(ee.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ee.c),r.Ub(ee.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(ne,8),r.Ub(re,8),r.Ub(ie,8),r.Ub(se,8),r.Ub(oe,8),r.Ub(ae,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(ee.c),Object(r.Ub)(ee.b,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(ne,8),Object(r.Ub)(re,8),Object(r.Ub)(ie,8),Object(r.Ub)(se,8),Object(r.Ub)(oe,8),Object(r.Ub)(ae,8))},token:t,providedIn:"any"}),t})();Object(ee.e)(ue,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class ce extends mt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.a;return this._value}next(t){super.next(this._value=t)}}var le=n("z+Ro"),he=n("DH7j");class fe extends Rt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class de extends Rt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var pe=n("SeVD");function ge(t,e,n,r,i=new de(t,n,r)){if(!i.closed)return e instanceof vt.a?e.subscribe(i):Object(pe.a)(e)(i)}var me=n("yCtX");const ye={};class ve{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new be(t,this.resultSelector))}}class be extends fe{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ye),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ge(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ye?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var _e=n("bHdf");function we(...t){return Object(_e.a)(1)(Object(yt.a)(...t))}function Oe(t){return new vt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(bt.a)(n):Object(Vt.b)()).subscribe(e)})}var Ee=n("EQ5u");function Se(...t){const e=t[t.length-1];return Object(le.a)(e)?(t.pop(),n=>we(t,n,e)):e=>we(t,e)}function Ce(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Te(t,e,n))}}class Te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ie(t,this.accumulator,this.seed,this.hasSeed))}}class Ie extends Rt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function xe(t){return function(e){const n=new Ae(t),r=e.lift(n);return n.caught=r}}class Ae{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ke(t,this.selector,this.caught))}}class ke extends Et.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Et.a(this);this.add(r);const i=Object(Et.c)(n,r);i!==r&&this.add(i)}}}var je=n("5+tZ");function Pe(t,e){return Object(je.a)(t,e,1)}function De(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new Ne(t))}}class Ne{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new Re(t,this.total))}}class Re extends Rt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Me=n("vkgz"),Le=n("x+ZX");class Fe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ue(t,this.callback))}}class Ue extends Rt.a{constructor(t,e){super(t),this.add(new xt.a(e))}}class Ve{constructor(t,e){this.id=t,this.url=e}}class qe extends Ve{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Be extends Ve{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends Ve{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ze extends Ve{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qe extends Ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends Ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends Ve{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $e extends Ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends Ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ze{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class sn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function on(t){return new sn(t)}function an(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function un(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ln(t[i],e[i]))return!1;return!0}function ln(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function hn(t){return Array.prototype.concat.apply([],t)}function fn(t){return t.length>0?t[t.length-1]:null}function dn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pn(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(bt.a)(Promise.resolve(t)):Object(yt.a)(t)}function gn(t,e,n){return n?function(t,e){return cn(t,e)}(t.queryParams,e.queryParams)&&mn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ln(t[n],e[n]))}(t.queryParams,e.queryParams)&&yn(t.root,e.root)}function mn(t,e){if(!On(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!mn(t.children[n],e.children[n]))return!1}return!0}function yn(t,e){return vn(t,e,e.segments)}function vn(t,e,n){if(t.segments.length>n.length)return!!On(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!On(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!yn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!On(t.segments,r)&&!!t.children.primary&&vn(t.children.primary,e,i)}}class bn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class _n{constructor(t,e){this.segments=t,this.children=e,this.parent=null,dn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class wn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return Dn(this)}}function On(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class En{}class Sn{parse(t){const e=new Fn(t);return new bn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${In(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${An(e)}=${An(t)}`).join("&"):`${An(e)}=${An(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Cn=new Sn;function Tn(t){return t.segments.map(t=>Dn(t)).join("/")}function In(t,e){if(!t.hasChildren())return Tn(t);if(e){const e=t.children.primary?In(t.children.primary,!1):"",n=[];return dn(t.children,(t,e)=>{e!==rn&&n.push(`${e}:${In(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return dn(t.children,(t,r)=>{r===rn&&(n=n.concat(e(t,r)))}),dn(t.children,(t,r)=>{r!==rn&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===rn?[In(t.children.primary,!1)]:[`${n}:${In(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Tn(t)}/${e[0]}`:`${Tn(t)}/(${e.join("//")})`}}function xn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function An(t){return xn(t).replace(/%3B/gi,";")}function kn(t){return xn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(t){return decodeURIComponent(t)}function Pn(t){return jn(t.replace(/\+/g,"%20"))}function Dn(t){return`${kn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${kn(t)}=${kn(e[t])}`).join("")}`;var e}const Nn=/^[^\/()?;=#]+/;function Rn(t){const e=t.match(Nn);return e?e[0]:""}const Mn=/^[^=?&#]+/,Ln=/^[^?&#]+/;class Fn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _n(t,e)),n}parseSegment(){const t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wn(jn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rn(this.remaining);t&&(n=t,this.capture(n))}t[jn(e)]=jn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Mn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ln);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Pn(e),i=Pn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=rn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new _n([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Un{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Vn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return qn(t,this._root).map(t=>t.value)}}function Vn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Vn(t,n);if(e)return e}return null}function qn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qn(t,n);if(r.length)return r.unshift(e),r}return[]}class Bn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zn extends Un{constructor(t,e){super(t),this.snapshot=e,Yn(this,t)}toString(){return this.snapshot.toString()}}function Qn(t,e){const n=function(t,e){const n=new $n([],{},{},"",{},rn,e,null,t.root,-1,{});return new Wn("",new Bn(n,[]))}(t,e),r=new ce([new wn("",{})]),i=new ce({}),s=new ce({}),o=new ce({}),a=new ce(""),u=new Kn(r,i,o,a,s,rn,e,n.root);return u.snapshot=n.root,new zn(new Bn(u,[]),n)}class Kn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ot.a)(t=>on(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ot.a)(t=>on(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $n{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wn extends Un{constructor(t,e){super(e),this.url=t,Yn(this,e)}toString(){return Zn(this._root)}}function Yn(t,e){e.value._routerState=t,e.children.forEach(e=>Yn(t,e))}function Zn(t){const e=t.children.length>0?` { ${t.children.map(Zn).join(", ")} } `:"";return`${t.value}${e}`}function Xn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),cn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),cn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jn(t,e){return cn(t.params,e.params)&&function(t,e){return On(t,e)&&t.every((t,n)=>cn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jn(t.parent,e.parent))}function tr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return tr(t,e,r);return tr(t,e)})}(t,e,n);return new Bn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return er(e,t),t}}const n=new Kn(new ce((r=e.value).url),new ce(r.params),new ce(r.queryParams),new ce(r.fragment),new ce(r.data),r.outlet,r.component,r),i=e.children.map(e=>tr(t,e));return new Bn(n,i)}var r}function er(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)er(t.children[n],e.children[n])}function nr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rr(t){return"object"==typeof t&&null!=t&&t.outlets}function ir(t,e,n,r,i){let s={};return r&&dn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new bn(n.root===t?e:sr(n.root,t,e),s,i)}function sr(t,e,n){const r={};return dn(t.children,(t,i)=>{r[i]=t===e?n:sr(t,e,n)}),new _n(t.segments,r)}class or{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&nr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(rr);if(r&&r!==fn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ar{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ur(t,e,n){if(t||(t=new _n([],{})),0===t.segments.length&&t.hasChildren())return cr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(rr(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!dr(a,u,e))return s;r+=2}else{if(!dr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _n(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _n(t.segments.slice(r.pathIndex),t.children),cr(e,0,i)}return r.match&&0===i.length?new _n(t.segments,{}):r.match&&!t.hasChildren()?lr(t,e,n):r.match?cr(t,0,i):lr(t,e,n)}function cr(t,e,n){if(0===n.length)return new _n(t.segments,{});{const r=function(t){return rr(t[0])?t[0].outlets:{[rn]:t}}(n),i={};return dn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ur(t.children[r],e,n))}),dn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _n(t.segments,i)}}function lr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(rr(s)){const t=hr(s.outlets);return new _n(r,t)}if(0===i&&nr(n[0])){r.push(new wn(t.segments[e].path,fr(n[0]))),i++;continue}const o=rr(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&nr(a)?(r.push(new wn(o,fr(a))),i+=2):(r.push(new wn(o,{})),i++)}return new _n(r,{})}function hr(t){const e={};return dn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=lr(new _n([],{}),0,t))}),e}function fr(t){const e={};return dn(t,(t,n)=>e[n]=`${t}`),e}function dr(t,e,n){return t==n.path&&cn(e,n.parameters)}class pr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Hn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),dn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Hn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Hn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new en(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Je(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Xn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),gr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function gr(t){Xn(t.value),t.children.forEach(gr)}class mr{constructor(t,e){this.routes=t,this.module=e}}function yr(t){return"function"==typeof t}function vr(t){return t instanceof bn}const br=Symbol("INITIAL_VALUE");function _r(){return St(t=>function(...t){let e,n;return Object(le.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(he.a)(t[0])&&(t=t[0]),Object(me.a)(t,n).lift(new ve(e))}(t.map(t=>t.pipe(qt(1),Se(br)))).pipe(Ce((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==br)return t;if(r===br&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||vr(r))return r}return t},t)},br),Mt(t=>t!==br),Object(Ot.a)(t=>vr(t)?t:!0===t),qt(1)))}let wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[gi]},encapsulation:2}),t})();function Or(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Er(r,Sr(e,r))}}function Er(t,e){t.children&&Or(t.children,e)}function Sr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Cr(t){const e=t.children&&t.children.map(Cr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==rn&&(n.component=wr),n}function Tr(t){return t.outlet||rn}function Ir(t,e){const n=t.filter(t=>Tr(t)===e);return n.push(...t.filter(t=>Tr(t)!==e)),n}const xr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ar(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},xr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||un)(n,t,e);if(!i)return Object.assign({},xr);const s={};dn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function kr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>jr(t,e,n)&&Tr(n)!==rn)}(t,n,r)){const i=new _n(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Tr(s)!==rn){const n=new _n([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Tr(s)]=n}return i}(t,e,r,new _n(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jr(t,e,n))}(t,n,r)){const s=new _n(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(jr(t,n,a)&&!i[Tr(a)]){const n=new _n([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Tr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new _n(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function jr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Pr(t,e,n,r){return!!(Tr(t)===r||r!==rn&&jr(e,n,t))&&("**"===t.path||Ar(e,t,n).matched)}function Dr(t,e,n){return 0===e.length&&!t.children[n]}class Nr{constructor(t){this.segmentGroup=t||null}}class Rr{constructor(t){this.urlTree=t}}function Mr(t){return new vt.a(e=>e.error(new Nr(t)))}function Lr(t){return new vt.a(e=>e.error(new Rr(t)))}function Fr(t){return new vt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ur{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=kr(this.urlTree.root,[],[],this.config).segmentGroup,e=new _n(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rn).pipe(Object(Ot.a)(t=>this.createUrlTree(Vr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xe(t=>{if(t instanceof Rr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Nr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rn).pipe(Object(Ot.a)(e=>this.createUrlTree(Vr(e),t.queryParams,t.fragment))).pipe(xe(t=>{if(t instanceof Nr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _n([],{[rn]:t}):t;return new bn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ot.a)(t=>new _n([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(bt.a)(r).pipe(Pe(r=>{const i=n.children[r],s=Ir(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Ot.a)(t=>({segment:t,outlet:r})))}),Ce((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mt((e,n)=>t(e,n,r)):Zt.a,De(1),n?zt(e):Gt(()=>new Nt))}())}expandSegment(t,e,n,r,i,s){return Object(bt.a)(n).pipe(Pe(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(xe(t=>{if(t instanceof Nr)return Object(yt.a)(null);throw t}))),Xt(t=>!!t),xe((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(Dr(e,r,i))return Object(yt.a)(new _n([],{}));throw new Nr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Pr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Mr(e):Mr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lr(i):this.lineralizeSegments(n,i).pipe(Object(je.a)(n=>{const i=new _n(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ar(e,r,i);if(!o)return Mr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Lr(l):this.lineralizeSegments(r,l).pipe(Object(je.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(yt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Ot.a)(t=>(n._loadedConfig=t,new _n(r,{})))):Object(yt.a)(new _n(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Ar(e,n,r);if(!s)return Mr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(je.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=kr(e,o,u,s),l=new _n(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(Ot.a)(t=>new _n(o,t)));if(0===s.length&&0===c.length)return Object(yt.a)(new _n(o,{}));const h=Tr(n)===i;return this.expandSegment(r,l,s,c,h?rn:i,!0).pipe(Object(Ot.a)(t=>new _n(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(yt.a)(new mr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(yt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(je.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ot.a)(t=>(e._loadedConfig=t,t))):function(t){return new vt.a(e=>e.error(an(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(yt.a)(new mr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&yr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!yr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return pn(s)});return Object(yt.a)(i).pipe(_r(),Object(Me.a)(t=>{if(!vr(t))return;const e=an(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ot.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(yt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Fr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new bn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return dn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return dn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new _n(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Vr(t){const e={};for(const n of Object.keys(t.children)){const r=Vr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _n(t.segments.concat(e.segments),e.children)}return t}(new _n(t.segments,e))}class qr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Br{constructor(t,e){this.component=t,this.route=e}}function Hr(t,e,n){const r=t._root;return Qr(r,e?e._root:null,n,[r.value])}function zr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Qr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!On(t.url,e.url);case"pathParamsOrQueryParamsChange":return!On(t.url,e.url)||!cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jn(t,e)||!cn(t.queryParams,e.queryParams);case"paramsChange":default:return!Jn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Qr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Br(a.outlet.component,o))}else o&&Kr(e,a,i),i.canActivateChecks.push(new qr(r)),Qr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),dn(s,(t,e)=>Kr(t,n.getContext(e),i)),i}function Kr(t,e,n){const r=Hn(t),i=t.value;dn(r,(t,r)=>{Kr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Br(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Gr{}function $r(t){return new vt.a(e=>e.error(t))}class Wr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=kr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rn);if(null===e)return null;const n=new $n([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bn(n,e),i=new Wn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Gn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Ir(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Zr(n);return r.sort((t,e)=>t.value.outlet===rn?-1:e.value.outlet===rn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Dr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Pr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?fn(n).parameters:{};i=new $n(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),Tr(t),t.component,t,Xr(e),Jr(e)+n.length,ei(t))}else{const r=Ar(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new $n(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ti(t),Tr(t),t.component,t,Xr(e),Jr(e)+s.length,ei(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=kr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Bn(i,t)]}if(0===a.length&&0===c.length)return[new Bn(i,[])];const l=Tr(t)===r,h=this.processSegment(a,u,c,l?rn:r);return null===h?null:[new Bn(i,h)]}}function Yr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Zr(t){const e=[],n=new Set;for(const r of t){if(!Yr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Zr(r.children);e.push(new Bn(r.value,t))}return e.filter(t=>!n.has(t))}function Xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ti(t){return t.data||{}}function ei(t){return t.resolve||{}}function ni(t){return St(e=>{const n=t(e);return n?Object(bt.a)(n).pipe(Object(Ot.a)(()=>e)):Object(yt.a)(e)})}class ri extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ii=new r.r("ROUTES");class si{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Ot.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new mr(hn(i.injector.get(ii,void 0,r.q.Self|r.q.Optional)).map(Cr),i)}),xe(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ee.a(n,()=>new mt.a).pipe(Object(Le.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(bt.a)(this.loader.load(t)):pn(t()).pipe(Object(je.a)(t=>t instanceof r.w?Object(yt.a)(t):Object(bt.a)(this.compiler.compileModuleAsync(t))))}}class oi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ai,this.attachRef=null}}class ai{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oi,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ui{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ci(t){throw t}function li(t,e,n){return e.parse("/")}function hi(t,e){return Object(yt.a)(null)}let fi=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mt.a,this.errorHandler=ci,this.malformedUriErrorHandler=li,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hi,afterPreactivation:hi},this.urlHandlingStrategy=new ui,this.routeReuseStrategy=new ri,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.Y);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new bn(new _n([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new si(o,a,t=>this.triggerEvent(new Ye(t)),t=>this.triggerEvent(new Ze(t))),this.routerState=Qn(this.currentUrlTree,this.rootComponentType),this.transitions=new ce({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Mt(t=>0!==t.id),Object(Ot.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),St(t=>{let n=!1,r=!1;return Object(yt.a)(t).pipe(Object(Me.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),St(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(yt.a)(t).pipe(St(t=>{const n=this.transitions.getValue();return e.next(new qe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,St(t=>function(t,e,n,r,i){return new Ur(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ot.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Me.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(je.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Wr(t,e,n,r,i,s).recognize();return null===o?$r(new Gr):Object(yt.a)(o)}catch(Zv){return $r(Zv)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ot.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Me.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new qe(n,this.serializeUrl(r),i,s);e.next(a);const u=Qn(r,this.rootComponentType).snapshot;return Object(yt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vt.a}),ni(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Me.a)(t=>{const e=new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ot.a)(t=>Object.assign(Object.assign({},t),{guards:Hr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(je.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(yt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(bt.a)(t).pipe(Object(je.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(yt.a)(!0);const o=s.map(s=>{const o=zr(s,e,i);let a;if(function(t){return t&&yr(t.canDeactivate)}(o))a=pn(o.canDeactivate(t,e,n,r));else{if(!yr(o))throw new Error("Invalid CanDeactivate guard");a=pn(o(t,e,n,r))}return a.pipe(Xt())});return Object(yt.a)(o).pipe(_r())}(t.component,t.route,n,e,r)),Xt(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(je.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(bt.a)(e).pipe(Pe(e=>we(function(t,e){return null!==t&&e&&e(new Xe(t)),Object(yt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new tn(t)),Object(yt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Oe(()=>{const i=e.guards.map(i=>{const s=zr(i,e.node,n);let o;if(function(t){return t&&yr(t.canActivateChild)}(s))o=pn(s.canActivateChild(r,t));else{if(!yr(s))throw new Error("Invalid CanActivateChild guard");o=pn(s(r,t))}return o.pipe(Xt())});return Object(yt.a)(i).pipe(_r())}));return Object(yt.a)(i).pipe(_r())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>Oe(()=>{const i=zr(r,e,n);let s;if(function(t){return t&&yr(t.canActivate)}(i))s=pn(i.canActivate(e,t));else{if(!yr(i))throw new Error("Invalid CanActivate guard");s=pn(i(e,t))}return s.pipe(Xt())}));return Object(yt.a)(i).pipe(_r())}(t,e.route,n))),Xt(t=>!0!==t,!0))}(r,s,t,e):Object(yt.a)(n)),Object(Ot.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Me.a)(t=>{if(vr(t.guardsResult)){const e=an(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Mt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ni(t=>{if(t.guards.canActivateChecks.length)return Object(yt.a)(t).pipe(Object(Me.a)(t=>{const e=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),St(t=>{let n=!1;return Object(yt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(je.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(yt.a)(t);let s=0;return Object(bt.a)(n).pipe(Pe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(yt.a)({});const s={};return Object(bt.a)(i).pipe(Object(je.a)(i=>function(t,e,n,r){const i=zr(t,e,r);return pn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Me.a)(t=>{s[i]=t}))),De(1),Object(je.a)(()=>Object.keys(s).length===i.length?Object(yt.a)(s):Vt.a))}(t._resolve,t,e,r).pipe(Object(Ot.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Gn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Me.a)(()=>s++),De(1),Object(je.a)(e=>s===n.length?Object(yt.a)(t):Vt.a))})),Object(Me.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new He(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Me.a)(t=>{const e=new We(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ni(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ot.a)(t=>{const e=function(t,e,n){const r=tr(t,e._root,n?n._root:void 0);return new zn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Me.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ot.a)(t=>(new pr(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Me.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Fe(i))),xe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=vr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new He(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ze(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Cl){t.reject(Cl)}}var i;return Vt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Or(t),this.config=t.map(Cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ir(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new or(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return dn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new or(n,e,r)}(n);if(s.toRoot())return ir(e.root,new _n([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ar(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ar(t,t===e.root,0)}const r=nr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ar(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?cr(o.segmentGroup,o.index,s.commands):ur(o.segmentGroup,o.index,s.commands);return ir(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=vr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Zv){e=this.malformedUriErrorHandler(Zv,this.urlSerializer,t)}return e}isActive(t,e){if(vr(t))return gn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return gn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(En),r.Ub(ai),r.Ub(w),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),di=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new mt.a,this.subscription=t.events.subscribe(t=>{t instanceof Be&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:pi(this.skipLocationChange),replaceUrl:pi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(fi),r.Lb(Kn),r.Lb(m))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.fc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function pi(t){return""===t||!!t}let gi=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||rn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ai),r.Lb(r.Q),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class mi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kn?this.route:t===ai?this.childContexts:this.parent.get(t,e)}}class yi{}class vi{preload(t,e){return Object(yt.a)(null)}}let bi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new si(e,n,e=>t.triggerEvent(new Ye(e)),e=>t.triggerEvent(new Ze(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof Be),Pe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(bt.a)(n).pipe(Object(_e.a)(),Object(Ot.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(yt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(je.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(yi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_i=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Be&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new nn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi),r.Ub(N),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const wi=new r.r("ROUTER_CONFIGURATION"),Oi=new r.r("ROUTER_FORROOT_GUARD"),Ei=[w,{provide:En,useClass:Sn},{provide:fi,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new fi(null,t,e,n,r,i,o,hn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[En,ai,w,r.s,r.x,r.i,ii,wi,[class{},new r.B],[class{},new r.B]]},ai,{provide:Kn,useFactory:function(t){return t.routerState.root},deps:[fi]},{provide:r.x,useClass:r.K},bi,vi,class{preload(t,e){return e().pipe(xe(()=>Object(yt.a)(null)))}},{provide:wi,useValue:{enableTracing:!1}}];function Si(){return new r.z("Router",fi)}let Ci=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ei,Ai(e),{provide:Oi,useFactory:xi,deps:[[fi,new r.B,new r.J]]},{provide:wi,useValue:n||{}},{provide:m,useFactory:Ii,deps:[a,[new r.p(v),new r.B],wi]},{provide:_i,useFactory:Ti,deps:[fi,N,wi]},{provide:yi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vi},{provide:r.z,multi:!0,useFactory:Si},[ki,{provide:r.d,multi:!0,useFactory:ji,deps:[ki]},{provide:Di,useFactory:Pi,deps:[ki]},{provide:r.b,multi:!0,useExisting:Di}]]}}static forChild(e){return{ngModule:t,providers:[Ai(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Oi,8),r.Ub(fi,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function Ti(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _i(t,e,n)}function Ii(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function xi(t){return"guarded"}function Ai(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ii,multi:!0,useValue:t}]}let ki=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fi),r=this.injector.get(wi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(yt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(wi),n=this.injector.get(bi),i=this.injector.get(_i),s=this.injector.get(fi),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function ji(t){return t.appInitializer.bind(t)}function Pi(t){return t.bootstrapListener.bind(t)}const Di=new r.r("Router Initializer");var Ni=n("D0XW");function Ri(){return t=>t.lift(new Mi)}class Mi{call(t,e){return e.subscribe(new Li(t))}}class Li extends Rt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ui(t,this.compare,this.keySelector))}}class Ui extends Rt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Vi=n("Jgta"),qi=n("zIRd"),Bi=n("qOnz"),Hi=n("q/0M"),zi=function(t,e){return(zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ki,Gi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$i=$i||{},Wi=Gi||self;function Yi(){}function Zi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ji="closure_uid_"+(1e9*Math.random()>>>0),ts=0;function es(t,e,n){return t.call.apply(t.bind,arguments)}function ns(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function rs(t,e,n){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?es:ns).apply(null,arguments)}function is(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ss(){return Date.now()}function os(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function as(){this.j=this.j,this.i=this.i}as.prototype.j=!1,as.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ji)&&t[Ji]||(t[Ji]=++ts)}(this)},as.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var us=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},cs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ls(t){return Array.prototype.concat.apply([],arguments)}function hs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function fs(t){return/^[\s\xa0]*$/.test(t)}var ds,ps=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gs(t,e){return-1!=t.indexOf(e)}function ms(t,e){return t<e?-1:t>e?1:0}t:{var ys=Wi.navigator;if(ys){var vs=ys.userAgent;if(vs){ds=vs;break t}}ds=""}function bs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _s(t){var e={};for(var n in t)e[n]=t[n];return e}var ws="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Os(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ws.length;s++)n=ws[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Es(t){return Es[" "](t),t}Es[" "]=Yi;var Ss,Cs,Ts=gs(ds,"Opera"),Is=gs(ds,"Trident")||gs(ds,"MSIE"),xs=gs(ds,"Edge"),As=xs||Is,ks=gs(ds,"Gecko")&&!(gs(ds.toLowerCase(),"webkit")&&!gs(ds,"Edge"))&&!(gs(ds,"Trident")||gs(ds,"MSIE"))&&!gs(ds,"Edge"),js=gs(ds.toLowerCase(),"webkit")&&!gs(ds,"Edge");function Ps(){var t=Wi.document;return t?t.documentMode:void 0}t:{var Ds="",Ns=(Cs=ds,ks?/rv:([^\);]+)(\)|;)/.exec(Cs):xs?/Edge\/([\d\.]+)/.exec(Cs):Is?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Cs):js?/WebKit\/(\S+)/.exec(Cs):Ts?/(?:Version)[ \/]?(\S+)/.exec(Cs):void 0);if(Ns&&(Ds=Ns?Ns[1]:""),Is){var Rs=Ps();if(null!=Rs&&Rs>parseFloat(Ds)){Ss=String(Rs);break t}}Ss=Ds}var Ms={};function Ls(t){return function(t,e){var n=Ms;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ps(String(Ss)).split("."),r=ps(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ms(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ms(0==o[2].length,0==a[2].length)||ms(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Fs=Wi.document&&Is&&(Ps()||parseInt(Ss,10))||void 0,Us=!Is||9<=Number(Fs),Vs=Is&&!Ls("9"),qs=function(){if(!Wi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Wi.addEventListener("test",Yi,e),Wi.removeEventListener("test",Yi,e)}catch(n){}return t}();function Bs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Hs(t,e){if(Bs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ks){t:{try{Es(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Bs.prototype.b=function(){this.defaultPrevented=!0},os(Hs,Bs);var zs={2:"touch",3:"pen",4:"mouse"};Hs.prototype.b=function(){Hs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Vs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Qs="closure_listenable_"+(1e6*Math.random()|0),Ks=0;function Gs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ks,this.Y=this.Z=!1}function $s(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ws(t){this.src=t,this.a={},this.b=0}function Ys(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=us(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($s(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Zs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Ws.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Zs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Gs(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Xs="closure_lm_"+(1e6*Math.random()|0),Js={};function to(t,e,n,r,i){if(r&&r.once)return no(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)to(t,e[s],n,r,i);return null}return n=lo(n),t&&t[Qs]?t.va(e,n,Xi(r)?!!r.capture:!!r,i):eo(t,e,n,!1,r,i)}function eo(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xi(i)?!!i.capture:!!i;if(o&&!Us)return null;var a=uo(t);if(a||(t[Xs]=a=new Ws(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ao,e=Us?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qs||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(so(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function no(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)no(t,e[s],n,r,i);return null}return n=lo(n),t&&t[Qs]?t.wa(e,n,Xi(r)?!!r.capture:!!r,i):eo(t,e,n,!0,r,i)}function ro(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ro(t,e[s],n,r,i);else r=Xi(r)?!!r.capture:!!r,n=lo(n),t&&t[Qs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Zs(s=t.a[e],n,r,i))&&($s(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=uo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Zs(e,n,r,i)),(n=-1<t?e[t]:null)&&io(n))}function io(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Qs])Ys(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(so(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uo(e))?(Ys(n,t),0==n.b&&(n.src=null,e[Xs]=null)):$s(t)}}}function so(t){return t in Js?Js[t]:Js[t]="on"+t}function oo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&io(t),n.call(r,e)}function ao(t,e){if(t.Y)return!0;if(!Us){if(!e)t:{e=["window","event"];for(var n=Wi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return oo(t,e=new Hs(e,this))}return oo(t,new Hs(e,this))}function uo(t){return(t=t[Xs])instanceof Ws?t:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(t){return"function"==typeof t?t:(t[co]||(t[co]=function(e){return t.handleEvent(e)}),t[co])}function ho(){as.call(this),this.c=new Ws(this),this.J=this,this.C=null}function fo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Bs(e,t);else if(e instanceof Bs)e.target=e.target||t;else{var i=e;Os(e=new Bs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=po(o,r,!0,e)&&i}if(i=po(o=e.a=t,r,!0,e)&&i,i=po(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=po(o=e.a=n[s],r,!1,e)&&i}function po(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Ys(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}os(ho,as),ho.prototype[Qs]=!0,(Ki=ho.prototype).addEventListener=function(t,e,n,r){to(this,t,e,n,r)},Ki.removeEventListener=function(t,e,n,r){ro(this,t,e,n,r)},Ki.G=function(){if(ho.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$s(n[r]);delete e.a[t],e.b--}}this.C=null},Ki.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ki.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var go=Wi.JSON.stringify;function mo(){this.b=this.a=null}var yo,vo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new _o},function(t){t.reset()});function bo(){var t=So,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _o(){this.next=this.b=this.a=null}function wo(t){Wi.setTimeout(function(){throw t},0)}function Oo(t,e){yo||function(){var t=Wi.Promise.resolve(void 0);yo=function(){t.then(Co)}}(),Eo||(yo(),Eo=!0),So.add(t,e)}mo.prototype.add=function(t,e){var n=vo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_o.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_o.prototype.reset=function(){this.next=this.b=this.a=null};var Eo=!1,So=new mo;function Co(){for(var t;t=bo();){try{t.a.call(t.b)}catch(n){wo(n)}var e=vo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Eo=!1}function To(t,e){ho.call(this),this.b=t||1,this.a=e||Wi,this.f=rs(this.Za,this),this.g=ss()}function Io(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function xo(t,e,n){if("function"==typeof t)n&&(t=rs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rs(t.handleEvent,t)}return 2147483647<Number(e)?-1:Wi.setTimeout(t,e||0)}function Ao(t){t.a=xo(function(){t.a=null,t.c&&(t.c=!1,Ao(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}os(To,ho),(Ki=To.prototype).aa=!1,Ki.M=null,Ki.Za=function(){if(this.aa){var t=ss()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),fo(this,"tick"),this.aa&&(Io(this),this.start()))}},Ki.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ss())},Ki.G=function(){To.X.G.call(this),Io(this),delete this.a};var ko=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}zi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ao(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Wi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(as);function jo(t){as.call(this),this.b=t,this.a={}}os(jo,as);var Po=[];function Do(t,e,n,r){Array.isArray(n)||(n&&(Po[0]=n.toString()),n=Po);for(var i=0;i<n.length;i++){var s=to(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function No(t){bs(t.a,function(t,e){this.a.hasOwnProperty(e)&&io(t)},t),t.a={}}function Ro(){this.a=!0}function Mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return go(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}jo.prototype.G=function(){jo.X.G.call(this),No(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ro.prototype.info=function(){};var Lo={},Fo=null;function Uo(){return Fo=Fo||new ho}function Vo(t){Bs.call(this,Lo.Fa,t)}function qo(t){var e=Uo();fo(e,new Vo(e,t))}function Bo(t,e){Bs.call(this,Lo.STAT_EVENT,t),this.stat=e}function Ho(t){var e=Uo();fo(e,new Bo(e,t))}function zo(t){Bs.call(this,Lo.Ga,t)}function Qo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Wi.setTimeout(function(){t()},e)}Lo.Fa="serverreachability",os(Vo,Bs),Lo.STAT_EVENT="statevent",os(Bo,Bs),Lo.Ga="timingevent",os(zo,Bs);var Ko={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Go={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function $o(){}function Wo(){}$o.prototype.a=null;var Yo,Zo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Xo(){Bs.call(this,"d")}function Jo(){Bs.call(this,"c")}function ta(){}function ea(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new jo(this),this.P=na,this.R=new To(t=As?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}os(Xo,Bs),os(Jo,Bs),os(ta,$o),Yo=new ta;var na=45e3,ra={},ia={};function sa(t,e,n){t.H=1,t.i=Ia(wa(e)),t.j=n,t.I=!0,oa(t,null)}function oa(t,e){t.u=ss(),ca(t),t.l=wa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Va(n.b,"t",r),t.D=0,t.a=Nu(t.g,t.g.C?e:null),0<t.O&&(t.F=new ko(rs(t.Ca,t,t.a),t.O)),Do(t.J,t.a,"readystatechange",t.Xa),e=t.B?_s(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),qo(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function aa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ua(t,n);if(i==ia){4==e&&(t.h=4,Ho(14),r=!1),Mo(t.c,t.f,null,"[Incomplete Response]");break}if(i==ra){t.h=4,Ho(15),Mo(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Mo(t.c,t.f,i,null),pa(t,i)}4==e&&0==n.length&&(t.h=1,Ho(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tu(e),e.F=!0,Ho(11))):(Mo(t.c,t.f,n,"[Invalid Chunked Response]"),da(t),fa(t))}function ua(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ia:(n=Number(e.substring(n,r)),isNaN(n)?ra:(r+=1)+n>e.length?ia:(e=e.substr(r,n),t.D=r+n,e))}function ca(t){t.T=ss()+t.P,la(t,t.P)}function la(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Qo(rs(t.Va,t),e)}function ha(t){t.o&&(Wi.clearTimeout(t.o),t.o=null)}function fa(t){0==t.g.v||t.A||Au(t.g,t)}function da(t){ha(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Io(t.R),No(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function pa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ga(n.b,t)))if(n.I=t.N,!t.C&&Ga(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(mv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;xu(n),yu(n)}Cu(n),Ho(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Qo(rs(n.Sa,n),6e3));if(1>=Ka(n.b)&&n.ea){try{n.ea()}catch(mv){}n.ea=void 0}}else ju(n,11)}else if((t.C||n.a==t)&&xu(n),!fs(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(gs(l,"spdy")||gs(l,"quic")||gs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($a(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ta(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ss()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Du(u,u.C?u.ga:null,u.fa),d.C){Wa(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(ha(p),ca(p)),u.a=d}else Su(u);0<n.g.length&&_u(n)}else"stop"!=i[0]&&"close"!=i[0]||ju(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ju(n,7):mu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);qo(4)}catch(mv){}}function ga(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zi(t)||"string"==typeof t)cs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ma(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ma)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ya(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];va(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)va(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function va(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ki=ea.prototype).setTimeout=function(t){this.P=t},Ki.Xa=function(t){t=t.target;var e=this.F;e&&3==fu(t)?e.f():this.Ca(t)},Ki.Ca=function(t){try{if(t==this.a)t:{var e=fu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!As&&!this.a.$())){this.A||4!=e||7==n||qo(8==n||0>=r?3:2),ha(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fs(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Ho(12),da(this),fa(this);break t}Mo(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,pa(this,u)}this.I?(aa(this,e,s),As&&this.b&&3==e&&(Do(this.J,this.R,"tick",this.Wa),this.R.start())):(Mo(this.c,this.f,s,null),pa(this,s)),4==e&&da(this),this.b&&!this.A&&(4==e?Au(this.g,this):(this.b=!1,ca(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ho(12)):(this.h=0,Ho(13)),da(this),fa(this)}}}catch(c){}},Ki.Wa=function(){if(this.a){var t=fu(this.a),e=this.a.$();this.D<e.length&&(ha(this),aa(this,t,e),this.b&&4!=t&&ca(this))}},Ki.cancel=function(){this.A=!0,da(this)},Ki.Va=function(){this.o=null;var t=ss();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(qo(3),Ho(17)),da(this),this.h=2,fa(this)):la(this,this.T-t)},(Ki=ma.prototype).K=function(){ya(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ki.L=function(){return ya(this),this.a.concat()},Ki.get=function(t,e){return va(this.b,t)?this.b[t]:e},Ki.set=function(t,e){va(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ki.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ba=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _a(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof _a){this.a=void 0!==e?e:t.a,Oa(this,t.f),this.j=t.j,Ea(this,t.c),Sa(this,t.h),this.g=t.g,e=t.b;var n=new Ma;n.c=e.c,e.a&&(n.a=new ma(e.a),n.b=e.b),Ca(this,n),this.i=t.i}else t&&(n=String(t).match(ba))?(this.a=!!e,Oa(this,n[1]||"",!0),this.j=xa(n[2]||""),Ea(this,n[3]||"",!0),Sa(this,n[4]),this.g=xa(n[5]||"",!0),Ca(this,n[6]||"",!0),this.i=xa(n[7]||"")):(this.a=!!e,this.b=new Ma(null,this.a))}function wa(t){return new _a(t)}function Oa(t,e,n){t.f=n?xa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ea(t,e,n){t.c=n?xa(e,!0):e}function Sa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ca(t,e,n){e instanceof Ma?(t.b=e,function(t,e){e&&!t.f&&(La(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Fa(this,e),Va(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Aa(e,Na)),t.b=new Ma(e,t.a))}function Ta(t,e,n){t.b.set(e,n)}function Ia(t){return Ta(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ss()).toString(36)),t}function xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Aa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ka),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ka(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_a.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Aa(e,ja,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Aa(e,ja,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Aa(n,"/"==n.charAt(0)?Da:Pa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Aa(n,Ra)),t.join("")};var ja=/[#\/\?@]/g,Pa=/[#\?:]/g,Da=/[#\?]/g,Na=/[#\?@]/g,Ra=/#/g;function Ma(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function La(t){t.a||(t.a=new ma,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Fa(t,e){La(t),e=qa(t,e),va(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,va((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ya(t)))}function Ua(t,e){return La(t),e=qa(t,e),va(t.a.b,e)}function Va(t,e,n){Fa(t,e),0<n.length&&(t.c=null,t.a.set(qa(t,e),hs(n)),t.b+=n.length)}function qa(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ki=Ma.prototype).add=function(t,e){La(this),this.c=null,t=qa(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ki.forEach=function(t,e){La(this),this.a.forEach(function(n,r){cs(n,function(n){t.call(e,n,r,this)},this)},this)},Ki.L=function(){La(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ki.K=function(t){La(this);var e=[];if("string"==typeof t)Ua(this,t)&&(e=ls(e,this.a.get(qa(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ls(e,t[n])}return e},Ki.set=function(t,e){return La(this),this.c=null,Ua(this,t=qa(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ki.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ki.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ba=function(){return function(t,e){this.b=t,this.a=e}}();function Ha(t){this.g=t||za,t=Wi.PerformanceNavigationTiming?0<(t=Wi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Wi.ia&&Wi.ia.ya&&Wi.ia.ya()&&Wi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var za=10;function Qa(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ka(t){return t.b?1:t.a?t.a.size:0}function Ga(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $a(t,e){t.a?t.a.add(e):t.b=e}function Wa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ya(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Qi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return hs(t.c)}function Za(){}function Xa(){this.a=new Za}function Ja(t,e,n){var r=n||"";try{ga(t,function(t,n){var i=t;Xi(t)&&(i=go(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Zv){throw e.push(r+"type="+encodeURIComponent("_badmap")),Zv}}function tu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ha.prototype.cancel=function(){var t,e;if(this.c=Ya(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Qi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Za.prototype.stringify=function(t){return Wi.JSON.stringify(t,void 0)},Za.prototype.parse=function(t){return Wi.JSON.parse(t,void 0)};var eu=Wi.JSON.parse;function nu(t){ho.call(this),this.headers=new ma,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ru,this.D=this.F=!1}os(nu,ho);var ru="",iu=/^https?$/i,su=["POST","PUT"];function ou(t){return"content-type"==t.toLowerCase()}function au(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,uu(t),lu(t)}function uu(t){t.u||(t.u=!0,fo(t,"complete"),fo(t,"error"))}function cu(t){if(t.b&&void 0!==$i&&(!t.s[1]||4!=fu(t)||2!=t.W()))if(t.l&&4==fu(t))xo(t.za,0,t);else if(fo(t,"readystatechange"),4==fu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(ba)[1]||null;if(!s&&Wi.self&&Wi.self.location){var o=Wi.self.location.protocol;s=o.substr(0,o.length-1)}i=!iu.test(s?s.toLowerCase():"")}e=i}if(e)fo(t,"complete"),fo(t,"success");else{t.h=6;try{var a=2<fu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",uu(t)}}finally{lu(t)}}}function lu(t,e){if(t.a){hu(t);var n=t.a,r=t.s[0]?Yi:null;t.a=null,t.s=null,e||fo(t,"ready");try{n.onreadystatechange=r}catch(Zv){}}}function hu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Wi.clearTimeout(t.m),t.m=null)}function fu(t){return t.a?t.a.readyState:0}function du(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return bs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ta(t,e,n))}function pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gu(t){this.pa=0,this.g=[],this.c=new Ro,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=pu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=pu("baseRetryDelayMs",5e3,t),this.Ra=pu("retryDelaySeedMs",1e4,t),this.Ma=pu("forwardChannelMaxRetries",2,t),this.ma=pu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ha(t&&t.concurrentRequestLimit),this.ka=new Xa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function mu(t){if(vu(t),3==t.v){var e=t.R++,n=wa(t.B);Ta(n,"SID",t.J),Ta(n,"RID",e),Ta(n,"TYPE","terminate"),Ou(t,n),(e=new ea(t,t.c,e,void 0)).H=2,e.i=Ia(wa(n)),n=!1,Wi.navigator&&Wi.navigator.sendBeacon&&(n=Wi.navigator.sendBeacon(e.i.toString(),"")),!n&&Wi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Nu(e.g,null),e.a.ba(e.i)),e.u=ss(),ca(e)}Pu(t)}function yu(t){t.a&&(Tu(t),t.a.cancel(),t.a=null)}function vu(t){yu(t),t.j&&(Wi.clearTimeout(t.j),t.j=null),xu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Wi.clearTimeout(t.h),t.h=null)}function bu(t,e){t.g.push(new Ba(t.Oa++,e)),3==t.v&&_u(t)}function _u(t){Qa(t.b)||t.h||(t.h=!0,Oo(t.Ba,t),t.u=0)}function wu(t,e){var n;n=e?e.f:t.R++;var r=wa(t.B);Ta(r,"SID",t.J),Ta(r,"RID",n),Ta(r,"AID",t.P),Ou(t,r),t.i&&t.l&&du(r,t.i,t.l),n=new ea(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Eu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$a(t.b,n),sa(n,r,e)}function Ou(t,e){t.f&&ga({},function(t,n){Ta(e,n,t)})}function Eu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?rs(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Ja(l,o,"req"+c+"_")}catch(hc){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Su(t){t.a||t.j||(t.T=1,Oo(t.Aa,t),t.o=0)}function Cu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Qo(rs(t.Aa,t),ku(t,t.o)),t.o++,0))}function Tu(t){null!=t.s&&(Wi.clearTimeout(t.s),t.s=null)}function Iu(t){t.a=new ea(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=wa(t.la);Ta(e,"RID","rpc"),Ta(e,"SID",t.J),Ta(e,"CI",t.H?"0":"1"),Ta(e,"AID",t.P),Ou(t,e),Ta(e,"TYPE","xmlhttp"),t.i&&t.l&&du(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ia(wa(e)),n.j=null,n.I=!0,oa(n,t)}function xu(t){null!=t.m&&(Wi.clearTimeout(t.m),t.m=null)}function Au(t,e){var n=null;if(t.a==e){xu(t),Tu(t),t.a=null;var r=2}else{if(!Ga(t.b,e))return;n=e.s,Wa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ss()-e.u;var i=t.u;fo(r=Uo(),new zo(r,n,e,i)),_u(t)}else Su(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ka(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Qo(rs(t.Ba,t,e),ku(t,t.u)),t.u++,0)))}(t,e)||2==r&&Cu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ju(t,5);break;case 4:ju(t,10);break;case 3:ju(t,6);break;default:ju(t,2)}}function ku(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ju(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=rs(t.Ya,t);n||(n=new _a("//www.google.com/images/cleardot.gif"),Wi.location&&"http"==Wi.location.protocol||Oa(n,"https"),Ia(n)),function(t,e){var n=new Ro;if(Wi.Image){var r=new Image;r.onload=is(tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=is(tu,n,r,"TestLoadImage: error",!1,e),r.onabort=is(tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=is(tu,n,r,"TestLoadImage: timeout",!1,e),Wi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ho(2);t.v=0,t.f&&t.f.ra(e),Pu(t),vu(t)}function Pu(t){t.v=0,t.I=-1,t.f&&(0==Ya(t.b).length&&0==t.g.length||(t.b.c.length=0,hs(t.g),t.g.length=0),t.f.qa())}function Du(t,e,n){var r=function(t){return t instanceof _a?wa(t):new _a(t,void 0)}(n);if(""!=r.c)e&&Ea(r,e+"."+r.c),Sa(r,r.h);else{var i=Wi.location;r=function(t,e,n,r){var i=new _a(null,void 0);return t&&Oa(i,t),e&&Ea(i,e),n&&Sa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&bs(t.V,function(t,e){Ta(r,e,t)}),n=t.na,(e=t.A)&&n&&Ta(r,e,n),Ta(r,"VER",t.ha),Ou(t,r),r}function Nu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nu(t.Na)).F=t.C,e}function Ru(){}function Mu(){if(Is&&!(10<=Number(Fs)))throw Error("Environmental error: no available transport.")}function Lu(t,e){ho.call(this),this.a=new gu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!fs(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fs(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Vu(this)}function Fu(t){Xo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Uu(){Jo.call(this),this.status=1}function Vu(t){this.a=t}(Ki=nu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Yo),this.a.onreadystatechange=rs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void au(this,s)}t=n||"";var i=new ma(this.headers);r&&ga(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ou,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Wi.FormData&&t instanceof Wi.FormData,!(0<=us(su,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{hu(this),0<this.o&&((this.D=function(t){return Is&&Ls(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=rs(this.xa,this)):this.m=xo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){au(this,s)}},Ki.xa=function(){void 0!==$i&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,fo(this,"timeout"),this.abort(8))},Ki.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,fo(this,"complete"),fo(this,"abort"),lu(this))},Ki.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),lu(this,!0)),nu.X.G.call(this)},Ki.za=function(){this.j||(this.A||this.l||this.g?cu(this):this.Ua())},Ki.Ua=function(){cu(this)},Ki.W=function(){try{return 2<fu(this)?this.a.status:-1}catch(Cs){return-1}},Ki.$=function(){try{return this.a?this.a.responseText:""}catch(Cs){return""}},Ki.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),eu(e)}},Ki.ua=function(){return this.h},Ki.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ki=gu.prototype).ha=8,Ki.v=1,Ki.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ea(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Os(r=_s(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Eu(this,n,e),Ta(i=wa(this.B),"RID",t),Ta(i,"CVER",22),this.A&&Ta(i,"X-HTTP-Session-Id",this.A),Ou(this,i),this.i&&r&&du(i,this.i,r),$a(this.b,n),this.Ia&&Ta(i,"TYPE","init"),this.da?(Ta(i,"$req",e),Ta(i,"SID","null"),n.U=!0,sa(n,i,null)):sa(n,i,e),this.v=2}}else 3==this.v&&(t?wu(this,t):0==this.g.length||Qa(this.b)||wu(this))},Ki.Aa=function(){if(this.j=null,Iu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Qo(rs(this.Ta,this),t)}},Ki.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ho(10),yu(this),Iu(this))},Ki.Sa=function(){null!=this.m&&(this.m=null,yu(this),Cu(this),Ho(19))},Ki.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ho(2)):(this.c.info("Failed to ping google.com"),Ho(1))},(Ki=Ru.prototype).ta=function(){},Ki.sa=function(){},Ki.ra=function(){},Ki.qa=function(){},Ki.Ja=function(){},Mu.prototype.a=function(t,e){return new Lu(t,e)},os(Lu,ho),Lu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ho(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Du(t,null,t.fa),_u(t)},Lu.prototype.close=function(){mu(this.a)},Lu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,bu(this.a,e)}else this.l?((e={}).__data__=go(t),bu(this.a,e)):bu(this.a,t)},Lu.prototype.G=function(){this.a.f=null,delete this.f,mu(this.a),delete this.a,Lu.X.G.call(this)},os(Fu,Xo),os(Uu,Jo),os(Vu,Ru),Vu.prototype.ta=function(){fo(this.a,"a")},Vu.prototype.sa=function(t){fo(this.a,new Fu(t))},Vu.prototype.ra=function(t){fo(this.a,new Uu(t))},Vu.prototype.qa=function(){fo(this.a,"b")},Mu.prototype.createWebChannel=Mu.prototype.a,Lu.prototype.send=Lu.prototype.h,Lu.prototype.open=Lu.prototype.g,Lu.prototype.close=Lu.prototype.close,Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,Go.COMPLETE="complete",Wo.EventType=Zo,Zo.OPEN="a",Zo.CLOSE="b",Zo.ERROR="c",Zo.MESSAGE="d",ho.prototype.listen=ho.prototype.va,nu.prototype.listenOnce=nu.prototype.wa,nu.prototype.getLastError=nu.prototype.Qa,nu.prototype.getLastErrorCode=nu.prototype.ua,nu.prototype.getStatus=nu.prototype.W,nu.prototype.getResponseJson=nu.prototype.Pa,nu.prototype.getResponseText=nu.prototype.$,nu.prototype.send=nu.prototype.ba;var qu=Ko,Bu=Go,Hu=Lo,zu=Wo,Qu=nu,Ku=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ku.o=-1;var Gu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$u=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(gt.c)(e,t),e}(Error),Wu=new Hi.b("@firebase/firestore");function Yu(){return Wu.logLevel}function Zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Hi.a.DEBUG){var r=e.map(tc);Wu.debug.apply(Wu,Object(gt.f)(["Firestore (8.4.2): "+t],r))}}function Xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Hi.a.ERROR){var r=e.map(tc);Wu.error.apply(Wu,Object(gt.f)(["Firestore (8.4.2): "+t],r))}}function Ju(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Hi.a.WARN){var r=e.map(tc);Wu.warn.apply(Wu,Object(gt.f)(["Firestore (8.4.2): "+t],r))}}function tc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Zv){return t}}function ec(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function nc(t,e){t||ec()}function rc(t,e){return t}function ic(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var sc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ic(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function oc(t,e){return t<e?-1:t>e?1:0}function ac(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function uc(t){return t+"\0"}var cc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $u(Gu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $u(Gu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $u(Gu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $u(Gu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?oc(this.nanoseconds,t.nanoseconds):oc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),lc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new cc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function hc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var pc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ec(),void 0===n?n=t.length-e:n>t.length-e&&ec(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new $u(Gu.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(pc),mc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return mc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new $u(Gu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new $u(Gu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new $u(Gu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $u(Gu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(pc),vc=function(){function t(t){this.fields=t,t.sort(yc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ac(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),bc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return oc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();bc.EMPTY_BYTE_STRING=new bc("");var _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wc(t){if(nc(!!t),"string"==typeof t){var e=0,n=_c.exec(t);if(nc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Oc(t.seconds),nanos:Oc(t.nanos)}}function Oc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ec(t){return"string"==typeof t?bc.fromBase64String(t):bc.fromUint8Array(t)}function Sc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cc(t){var e=t.mapValue.fields.__previous_value__;return Sc(e)?Cc(e):e}function Tc(t){var e=wc(t.mapValue.fields.__local_write_time__.timestampValue);return new cc(e.seconds,e.nanos)}function Ic(t){return null==t}function xc(t){return 0===t&&1/t==-1/0}function Ac(t){return"number"==typeof t&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var kc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(gc.fromString(e))},t.fromName=function(e){return new t(gc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===gc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return gc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new gc(e.slice()))},t}();function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sc(t)?4:10:ec()}function Pc(t,e){var n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=wc(t.timestampValue),r=wc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ec(t.bytesValue).isEqual(Ec(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Oc(t.geoPointValue.latitude)===Oc(e.geoPointValue.latitude)&&Oc(t.geoPointValue.longitude)===Oc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Oc(t.integerValue)===Oc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Oc(t.doubleValue),r=Oc(e.doubleValue);return n===r?xc(n)===xc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],Pc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(hc(n)!==hc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pc(n[i],r[i])))return!1;return!0}(t,e);default:return ec()}}function Dc(t,e){return void 0!==(t.values||[]).find(function(t){return Pc(t,e)})}function Nc(t,e){var n=jc(t),r=jc(e);if(n!==r)return oc(n,r);switch(n){case 0:return 0;case 1:return oc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Oc(t.integerValue||t.doubleValue),r=Oc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rc(t.timestampValue,e.timestampValue);case 4:return Rc(Tc(t),Tc(e));case 5:return oc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ec(t),r=Ec(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=oc(n[i],r[i]);if(0!==s)return s}return oc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=oc(Oc(t.latitude),Oc(e.latitude));return 0!==n?n:oc(Oc(t.longitude),Oc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Nc(n[i],r[i]);if(s)return s}return oc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=oc(r[o],s[o]);if(0!==a)return a;var u=Nc(n[r[o]],i[s[o]]);if(0!==u)return u}return oc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ec()}}function Rc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return oc(t,e);var n=wc(t),r=wc(e),i=oc(n.seconds,r.seconds);return 0!==i?i:oc(n.nanos,r.nanos)}function Mc(t){return Lc(t)}function Lc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=wc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ec(t.bytesValue).toBase64():"referenceValue"in t?kc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Lc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Lc(t.fields[s])}return e+"}"}(t.mapValue):ec();var e}function Fc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Uc(t){return!!t&&"integerValue"in t}function Vc(t){return!!t&&"arrayValue"in t}function qc(t){return!!t&&"nullValue"in t}function Bc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}var zc=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(yc.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Pc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===jc(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=Hc(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(yc.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Hc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Qc(t){var e=[];return fc(t.fields||{},function(t,n){var r=new yc([t]);if(Hc(n)){var i=Qc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new vc(e)}var Kc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,lc.min(),zc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,zc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,zc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=zc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=zc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Gc=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function $c(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Gc(t,e,n,r,i,s,o)}function Wc(t){var e=rc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Mc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ul(e.startAt)),e.endAt&&(n+="|ub:",n+=ul(e.endAt)),e.h=n}return e.h}function Yc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ll(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Pc(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fl(t.startAt,e.startAt)&&fl(t.endAt,e.endAt)}function Zc(t){return kc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Xc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(gt.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Jc(t,n,r):"array-contains"===n?new rl(t,r):"in"===n?new il(t,r):"not-in"===n?new sl(t,r):"array-contains-any"===n?new ol(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new tl(t,n):new el(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Nc(e,this.value)):null!==e&&jc(this.value)===jc(e)&&this.m(Nc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ec()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Jc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=kc.fromName(r.referenceValue),i}return Object(gt.c)(e,t),e.prototype.matches=function(t){var e=kc.comparator(t.key,this.key);return this.m(e)},e}(Xc),tl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=nl(0,n),r}return Object(gt.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xc),el=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=nl(0,n),r}return Object(gt.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xc);function nl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return kc.fromName(t.referenceValue)})}var rl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(gt.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Vc(e)&&Dc(e.arrayValue,this.value)},e}(Xc),il=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(gt.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Dc(this.value.arrayValue,e)},e}(Xc),sl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(gt.c)(e,t),e.prototype.matches=function(t){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Dc(this.value.arrayValue,e)},e}(Xc),ol=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(gt.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Vc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Dc(e.value.arrayValue,t)})},e}(Xc),al=function(t,e){this.position=t,this.before=e};function ul(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Mc(t)}).join(",")}var cl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ll(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function hl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?kc.comparator(kc.fromName(o.referenceValue),n.key):Nc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function fl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pc(t.position[n],e.position[n]))return!1;return!0}var dl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function pl(t,e,n,r,i,s,o,a){return new dl(t,e,n,r,i,s,o,a)}function gl(t){return new dl(t)}function ml(t){return!Ic(t.limit)&&"F"===t.limitType}function yl(t){return!Ic(t.limit)&&"L"===t.limitType}function vl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function _l(t){return null!==t.collectionGroup}function wl(t){var e=rc(t);if(null===e.p){e.p=[];var n=bl(e),r=vl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new cl(n)),e.p.push(new cl(yc.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new cl(yc.keyField(),u))}}}return e.p}function Ol(t){var e=rc(t);if(!e.T)if("F"===e.limitType)e.T=$c(e.path,e.collectionGroup,wl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=wl(e);r<i.length;r++){var s=i[r];n.push(new cl(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new al(e.endAt.position,!e.endAt.before):null,a=e.startAt?new al(e.startAt.position,!e.startAt.before):null;e.T=$c(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function El(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sl(t,e){return Yc(Ol(t),Ol(e))&&t.limitType===e.limitType}function Cl(t){return Wc(Ol(t))+"|lt:"+t.limitType}function Tl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Mc(e.value);var e}).join(", ")+"]"),Ic(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ul(t.startAt)),t.endAt&&(e+=", endAt: "+ul(t.endAt)),"Target("+e+")"}(Ol(t))+"; limitType="+t.limitType+")"}function Il(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):kc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!hl(t.startAt,wl(t),e)||t.endAt&&hl(t.endAt,wl(t),e))}(t,e)}function xl(t){return function(e,n){for(var r=!1,i=0,s=wl(t);i<s.length;i++){var o=s[i],a=Al(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Al(t,e,n){var r=t.field.isKeyField()?kc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Nc(r,i):ec()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ec()}}function kl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function jl(t){return{integerValue:""+t}}function Pl(t,e){return Ac(e)?jl(e):kl(t,e)}var Dl=function(){this._=void 0};function Nl(t,e,n){return t instanceof Ll?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Fl?Ul(t,e):t instanceof Vl?ql(t,e):function(t,e){var n=Ml(t,e),r=Hl(n)+Hl(t.A);return Uc(n)&&Uc(t.A)?jl(r):kl(t.R,r)}(t,e)}function Rl(t,e,n){return t instanceof Fl?Ul(t,e):t instanceof Vl?ql(t,e):n}function Ml(t,e){return t instanceof Bl?Uc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e}(Dl),Fl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gt.c)(e,t),e}(Dl);function Ul(t,e){for(var n=zl(e),r=function(t){n.some(function(e){return Pc(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Vl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(gt.c)(e,t),e}(Dl);function ql(t,e){for(var n=zl(e),r=function(t){n=n.filter(function(e){return!Pc(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(gt.c)(e,t),e}(Dl);function Hl(t){return Oc(t.integerValue||t.doubleValue)}function zl(t){return Vc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ql=function(t,e){this.field=t,this.transform=e},Kl=function(t,e){this.version=t,this.transformResults=e},Gl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $l(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Wl=function(){};function Yl(t,e,n){t instanceof eh?function(t,e,n){var r=t.value.clone(),i=ih(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof nh?function(t,e,n){if($l(t.precondition,e)){var r=ih(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(rh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n){t instanceof eh?function(t,e,n){if($l(t.precondition,e)){var r=t.value.clone(),i=sh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(th(e),r).setHasLocalMutations()}}(t,e,n):t instanceof nh?function(t,e,n){if($l(t.precondition,e)){var r=sh(t.fieldTransforms,n,e),i=e.data;i.setAll(rh(t)),i.setAll(r),e.convertToFoundDocument(th(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){$l(t.precondition,e)&&e.convertToNoDocument(lc.min())}(t,e)}function Xl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Ml(s.transform,o||null);null!=a&&(null==n&&(n=zc.empty()),n.set(s.field,a))}return n||null}function Jl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ac(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Fl&&e instanceof Fl||t instanceof Vl&&e instanceof Vl?ac(t.elements,e.elements,Pc):t instanceof Bl&&e instanceof Bl?Pc(t.A,e.A):t instanceof Ll&&e instanceof Ll}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function th(t){return t.isFoundDocument()?t.version:lc.min()}var eh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(gt.c)(e,t),e}(Wl),nh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(gt.c)(e,t),e}(Wl);function rh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function ih(t,e,n){var r=new Map;nc(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Rl(o,a,n[i]))}return r}function sh(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Nl(a,u,e))}return r}var oh,ah,uh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(gt.c)(e,t),e}(Wl),ch=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(gt.c)(e,t),e}(Wl),lh=function(t){this.count=t};function hh(t){switch(t){case Gu.OK:return ec();case Gu.CANCELLED:case Gu.UNKNOWN:case Gu.DEADLINE_EXCEEDED:case Gu.RESOURCE_EXHAUSTED:case Gu.INTERNAL:case Gu.UNAVAILABLE:case Gu.UNAUTHENTICATED:return!1;case Gu.INVALID_ARGUMENT:case Gu.NOT_FOUND:case Gu.ALREADY_EXISTS:case Gu.PERMISSION_DENIED:case Gu.FAILED_PRECONDITION:case Gu.ABORTED:case Gu.OUT_OF_RANGE:case Gu.UNIMPLEMENTED:case Gu.DATA_LOSS:return!0;default:return ec()}}function fh(t){if(void 0===t)return Xu("GRPC error has no .code"),Gu.UNKNOWN;switch(t){case oh.OK:return Gu.OK;case oh.CANCELLED:return Gu.CANCELLED;case oh.UNKNOWN:return Gu.UNKNOWN;case oh.DEADLINE_EXCEEDED:return Gu.DEADLINE_EXCEEDED;case oh.RESOURCE_EXHAUSTED:return Gu.RESOURCE_EXHAUSTED;case oh.INTERNAL:return Gu.INTERNAL;case oh.UNAVAILABLE:return Gu.UNAVAILABLE;case oh.UNAUTHENTICATED:return Gu.UNAUTHENTICATED;case oh.INVALID_ARGUMENT:return Gu.INVALID_ARGUMENT;case oh.NOT_FOUND:return Gu.NOT_FOUND;case oh.ALREADY_EXISTS:return Gu.ALREADY_EXISTS;case oh.PERMISSION_DENIED:return Gu.PERMISSION_DENIED;case oh.FAILED_PRECONDITION:return Gu.FAILED_PRECONDITION;case oh.ABORTED:return Gu.ABORTED;case oh.OUT_OF_RANGE:return Gu.OUT_OF_RANGE;case oh.UNIMPLEMENTED:return Gu.UNIMPLEMENTED;case oh.DATA_LOSS:return Gu.DATA_LOSS;default:return ec()}}(ah=oh||(oh={}))[ah.OK=0]="OK",ah[ah.CANCELLED=1]="CANCELLED",ah[ah.UNKNOWN=2]="UNKNOWN",ah[ah.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ah[ah.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ah[ah.NOT_FOUND=5]="NOT_FOUND",ah[ah.ALREADY_EXISTS=6]="ALREADY_EXISTS",ah[ah.PERMISSION_DENIED=7]="PERMISSION_DENIED",ah[ah.UNAUTHENTICATED=16]="UNAUTHENTICATED",ah[ah.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ah[ah.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ah[ah.ABORTED=10]="ABORTED",ah[ah.OUT_OF_RANGE=11]="OUT_OF_RANGE",ah[ah.UNIMPLEMENTED=12]="UNIMPLEMENTED",ah[ah.INTERNAL=13]="INTERNAL",ah[ah.UNAVAILABLE=14]="UNAVAILABLE",ah[ah.DATA_LOSS=15]="DATA_LOSS";var dh=function(){function t(t,e){this.comparator=t,this.root=e||gh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ph(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ph(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ph(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ph(this.root,t,this.comparator,!0)},t}(),ph=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),gh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ec();if(this.right.isRed())throw ec();var t=this.left.check();if(t!==this.right.check())throw ec();return t+(this.isRed()?0:1)},t}();gh.EMPTY=null,gh.RED=!0,gh.BLACK=!1,gh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ec()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ec()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new gh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var mh=function(){function t(t){this.comparator=t,this.data=new dh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new yh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new yh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),yh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),vh=new dh(kc.comparator);function bh(){return vh}var _h=new dh(kc.comparator);function wh(){return _h}var Oh=new dh(kc.comparator);function Eh(){return Oh}var Sh=new mh(kc.comparator);function Ch(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Sh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Th=new mh(oc);function Ih(){return Th}var xh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Ah.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(lc.min(),r,Ih(),bh(),Ch())},t}(),Ah=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(bc.EMPTY_BYTE_STRING,n,Ch(),Ch(),Ch())},t}(),kh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},jh=function(t,e){this.targetId=t,this.V=e},Ph=function(t,e,n,r){void 0===n&&(n=bc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Dh=function(){function t(){this.S=0,this.D=Mh(),this.C=bc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ch(),e=Ch(),n=Ch();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ec()}}),new Ah(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Mh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Nh=function(){function t(t){this.W=t,this.G=new Map,this.H=bh(),this.J=Rh(),this.Y=new mh(oc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:ec()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Zc(i))if(0===n){var s=new kc(i.path);this.tt(e,s,Kc.newNoDocument(s,lc.min()))}else nc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Zc(s.target)){var o=new kc(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Kc.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Ch();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new xh(t,n,this.Y,this.H,r);return this.H=bh(),this.J=Rh(),this.Y=new mh(oc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Dh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new mh(oc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Zu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Dh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Rh(){return new dh(kc.comparator)}function Mh(){return new dh(kc.comparator)}var Lh={asc:"ASCENDING",desc:"DESCENDING"},Fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uh=function(t,e){this.databaseId=t,this.I=e};function Vh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Bh(t,e){return Vh(t,e.toTimestamp())}function Hh(t){return nc(!!t),lc.fromTimestamp(function(t){var e=wc(t);return new cc(e.seconds,e.nanos)}(t))}function zh(t,e){return function(t){return new gc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Qh(t){var e=gc.fromString(t);return nc(mf(e)),e}function Kh(t,e){return zh(t.databaseId,e.path)}function Gh(t,e){var n=Qh(e);if(n.get(1)!==t.databaseId.projectId)throw new $u(Gu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $u(Gu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new kc(Zh(n))}function $h(t,e){return zh(t.databaseId,e)}function Wh(t){var e=Qh(t);return 4===e.length?gc.emptyPath():Zh(e)}function Yh(t){return new gc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zh(t){return nc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Xh(t,e,n){return{name:Kh(t,e),fields:n.toProto().mapValue.fields}}function Jh(t,e,n){var r=Gh(t,e.name),i=Hh(e.updateTime),s=new zc({mapValue:{fields:e.fields}}),o=Kc.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function tf(t,e){var n;if(e instanceof eh)n={update:Xh(t,e.key,e.value)};else if(e instanceof uh)n={delete:Kh(t,e.key)};else if(e instanceof nh)n={update:Xh(t,e.key,e.data),updateMask:gf(e.fieldMask)};else{if(!(e instanceof ch))return ec();n={verify:Kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ll)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ec()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ec()}(t,e.precondition)),n}function ef(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gl.updateTime(Hh(t.updateTime)):void 0!==t.exists?Gl.exists(t.exists):Gl.none()}(e.currentDocument):Gl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(nc("REQUEST_TIME"===e.setToServerValue),n=new Ll):"appendMissingElements"in e?n=new Fl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Vl(e.removeAllFromArray.values||[]):"increment"in e?n=new Bl(t,e.increment):ec();var r=yc.fromServerFormat(e.fieldPath);return new Ql(r,n)}(t,e)}):[];if(e.update){var i=Gh(t,e.update.name),s=new zc({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new vc((t.fieldPaths||[]).map(function(t){return yc.fromServerFormat(t)}))}(e.updateMask);return new nh(i,s,o,n,r)}return new eh(i,s,n,r)}if(e.delete){var a=Gh(t,e.delete);return new uh(a,n)}if(e.verify){var u=Gh(t,e.verify);return new ch(u,n)}return ec()}function nf(t,e){return{documents:[$h(t,e.path)]}}function rf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$h(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$h(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Bc(t.value))return{unaryFilter:{field:hf(t.field),op:"IS_NAN"}};if(qc(t.value))return{unaryFilter:{field:hf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bc(t.value))return{unaryFilter:{field:hf(t.field),op:"IS_NOT_NAN"}};if(qc(t.value))return{unaryFilter:{field:hf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hf(t.field),op:lf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:hf(t.field),direction:cf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Ic(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=af(e.startAt)),e.endAt&&(n.structuredQuery.endAt=af(e.endAt)),n}function sf(t){var e=Wh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nc(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=of(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new cl(ff(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ic(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=uf(n.startAt));var l=null;return n.endAt&&(l=uf(n.endAt)),pl(e,i,a,o,u,"F",c,l)}function of(t){return t?void 0!==t.unaryFilter?[pf(t)]:void 0!==t.fieldFilter?[df(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return of(t)}).reduce(function(t,e){return t.concat(e)}):ec():[]}function af(t){return{before:t.before,values:t.position}}function uf(t){return new al(t.values||[],!!t.before)}function cf(t){return Lh[t]}function lf(t){return Fh[t]}function hf(t){return{fieldPath:t.canonicalString()}}function ff(t){return yc.fromServerFormat(t.fieldPath)}function df(t){return Xc.create(ff(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ec()}}(t.fieldFilter.op),t.fieldFilter.value)}function pf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ff(t.unaryFilter.field);return Xc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ff(t.unaryFilter.field);return Xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ff(t.unaryFilter.field);return Xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ff(t.unaryFilter.field);return Xc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ec()}}function gf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function mf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function yf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bf(e)),e=vf(t.get(n),e);return bf(e)}function vf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function bf(t){return t+"\x01\x01"}function _f(t){var e=t.length;if(nc(e>=2),2===e)return nc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),gc.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ec(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ec()}s=o+2}return new gc(r)}var wf=function(t,e){this.seconds=t,this.nanoseconds=e},Of=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Of.store="owner",Of.key="owner";var Ef=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ef.store="mutationQueues",Ef.keyPath="userId";var Sf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Sf.store="mutations",Sf.keyPath="batchId",Sf.userMutationsIndex="userMutationsIndex",Sf.userMutationsKeyPath=["userId","batchId"];var Cf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yf(e)]},t.key=function(t,e,n){return[t,yf(e),n]},t}();Cf.store="documentMutations",Cf.PLACEHOLDER=new Cf;var Tf=function(t,e){this.path=t,this.readTime=e},If=function(t,e){this.path=t,this.version=e},xf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};xf.store="remoteDocuments",xf.readTimeIndex="readTimeIndex",xf.readTimeIndexPath="readTime",xf.collectionReadTimeIndex="collectionReadTimeIndex",xf.collectionReadTimeIndexPath=["parentPath","readTime"];var Af=function(t){this.byteSize=t};Af.store="remoteDocumentGlobal",Af.key="remoteDocumentGlobalKey";var kf=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};kf.store="targets",kf.keyPath="targetId",kf.queryTargetsIndexName="queryTargetsIndex",kf.queryTargetsKeyPath=["canonicalId","targetId"];var jf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jf.store="targetDocuments",jf.keyPath=["targetId","path"],jf.documentTargetsIndex="documentTargetsIndex",jf.documentTargetsKeyPath=["path","targetId"];var Pf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pf.key="targetGlobalKey",Pf.store="targetGlobal";var Df=function(t,e){this.collectionId=t,this.parent=e};Df.store="collectionParents",Df.keyPath=["collectionId","parent"];var Nf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Nf.store="clientMetadata",Nf.keyPath="clientId";var Rf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Rf.store="bundles",Rf.keyPath="bundleId";var Mf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Mf.store="namedQueries",Mf.keyPath="name";var Lf=Object(gt.f)(Object(gt.f)([],Object(gt.f)(Object(gt.f)([],Object(gt.f)(Object(gt.f)([],Object(gt.f)(Object(gt.f)([],[Ef.store,Sf.store,Cf.store,xf.store,kf.store,Of.store,Pf.store,jf.store]),[Nf.store])),[Af.store])),[Df.store])),[Rf.store,Mf.store]),Ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Vf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},qf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ec(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Bf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Vf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Qf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Yf(e.target.error);n.ft.reject(new Qf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Zu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Gf(e)},t}(),Hf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(Bi.h)())&&Xu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Zu("SimpleDb","Removing database:",t),$f(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Bi.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n=this;return Object(gt.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Zu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new $u(Gu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qf(t,n))},i.onupgradeneeded=function(t){Zu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Zu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(gt.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(gt.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(gt.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Bf.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),qf.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Zu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),zf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return $f(this.Pt.delete())},t}(),Qf=function(t){function e(e,n){var r=this;return(r=t.call(this,Gu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(gt.c)(e,t),e}($u);function Kf(t){return"IndexedDbTransactionError"===t.name}var Gf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Zu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Zu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$f(n)},t.prototype.add=function(t){return Zu("SimpleDb","ADD",this.store.name,t,t),$f(this.store.add(t))},t.prototype.get=function(t){var e=this;return $f(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Zu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Zu("SimpleDb","DELETE",this.store.name,t),$f(this.store.delete(t))},t.prototype.count=function(){return Zu("SimpleDb","COUNT",this.store.name),$f(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Zu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new qf(function(n,r){e.onerror=function(t){var e=Yf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new qf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new zf(i),o=e(i.primaryKey,i.value,s);if(o instanceof qf){var a=o.catch(function(t){return s.done(),qf.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return qf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $f(t){return new qf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Yf(t.target.error);n(e)}})}var Wf=!1;function Yf(t){var e=Hf._t(Object(Bi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $u("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wf||(Wf=!0,setTimeout(function(){throw r},0)),r}}return t}var Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(gt.c)(e,t),e}(Uf);function Xf(t,e){var n=rc(t);return Hf.It(n.Mt,e)}var Jf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Yl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Zl(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Zl(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(lc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ch())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ac(this.mutations,t.mutations,function(t,e){return Jl(t,e)})&&ac(this.baseMutations,t.baseMutations,function(t,e){return Jl(t,e)})},t}(),td=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){nc(e.mutations.length===r.length);for(var i=Eh(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ed=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=lc.min()),void 0===s&&(s=lc.min()),void 0===o&&(o=bc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),nd=function(t){this.Lt=t};function rd(t,e){if(e.document)return Jh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=kc.fromSegments(e.noDocument.path),r=ud(e.noDocument.readTime),i=Kc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=kc.fromSegments(e.unknownDocument.path);return r=ud(e.unknownDocument.version),Kc.newUnknownDocument(s,r)}return ec()}function id(t,e,n){var r=sd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Kh(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Vh(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new xf(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=ad(e.version);return o=e.hasCommittedMutations,new xf(null,new Tf(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=ad(e.version);return new xf(new If(c,l),null,null,!0,r,i)}return ec()}function sd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function od(t){var e=new cc(t[0],t[1]);return lc.fromTimestamp(e)}function ad(t){var e=t.toTimestamp();return new wf(e.seconds,e.nanoseconds)}function ud(t){var e=new cc(t.seconds,t.nanoseconds);return lc.fromTimestamp(e)}function cd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ef(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ef(t.Lt,e)}),s=cc.fromMillis(e.localWriteTimeMs);return new Jf(e.batchId,s,n,i)}function ld(t){var e,n,r=ud(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ud(t.lastLimboFreeSnapshotVersion):lc.min();return void 0!==t.query.documents?(nc(1===(n=t.query).documents.length),e=Ol(gl(Wh(n.documents[0])))):e=function(t){return Ol(sf(t))}(t.query),new ed(e,t.targetId,0,t.lastListenSequenceNumber,r,i,bc.fromBase64String(t.resumeToken))}function hd(t,e){var n,r=ad(e.snapshotVersion),i=ad(e.lastLimboFreeSnapshotVersion);n=Zc(e.target)?nf(t.Lt,e.target):rf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new kf(e.targetId,Wc(e.target),r,s,e.sequenceNumber,i,n)}function fd(t){var e=sf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?El(e,e.limit,"L"):e}var dd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return pd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:ud(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return pd(t).put({bundleId:(n=e).id,createTime:ad(Hh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return gd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:fd(e.bundledQuery),readTime:ud(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return gd(t).put(function(t){return{name:t.name,readTime:ad(Hh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function pd(t){return Xf(t,Rf.store)}function gd(t){return Xf(t,Mf.store)}var md=function(){function t(){this.Bt=new yd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),qf.resolve()},t.prototype.getCollectionParents=function(t,e){return qf.resolve(this.Bt.getEntries(e))},t}(),yd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new mh(gc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mh(gc.comparator)).toArray()},t}(),vd=function(){function t(){this.qt=new yd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:yf(i)};return bd(t).put(s)}return qf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[uc(e),""],!1,!0);return bd(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(_f(s.parent))}return n})},t}();function bd(t){return Xf(t,Df.store)}var _d={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Od(t,e,n){var r=t.store(Sf.store),i=t.store(Cf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){nc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Cf.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return qf.waitFor(s).next(function(){return c})}function Ed(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ec();e=t.noDocument}return JSON.stringify(e).length}wd.DEFAULT_COLLECTION_PERCENTILE=10,wd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wd.DEFAULT=new wd(41943040,wd.DEFAULT_COLLECTION_PERCENTILE,wd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wd.DISABLED=new wd(-1,0,0);var Sd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return nc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Td(t).Ot({index:Sf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Id(t),o=Td(t);return o.add({}).next(function(a){nc("number"==typeof a);for(var u=new Jf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return tf(t.Lt,e)}),i=n.mutations.map(function(e){return tf(t.Lt,e)});return new Sf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new mh(function(t,e){return oc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Cf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Cf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),qf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Td(t).get(e).next(function(t){return t?(nc(t.userId===n.userId),cd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?qf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Td(t).Ot({index:Sf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(nc(e.batchId>=r),s=cd(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Td(t).Ot({index:Sf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Td(t).Nt(Sf.userMutationsIndex,n).next(function(t){return t.map(function(t){return cd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Cf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Id(t).Ot({range:i},function(r,i,o){var a=r[0],u=r[2],c=_f(r[1]);if(a===n.userId&&e.path.isEqual(c))return Td(t).get(u).next(function(t){if(!t)throw ec();nc(t.userId===n.userId),s.push(cd(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mh(oc),i=[];return e.forEach(function(e){var s=Cf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Id(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],u=_f(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),qf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Cf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new mh(oc);return Id(t).Ot({range:o},function(t,e,s){var o=t[0],u=t[2],c=_f(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Td(t).get(e).next(function(t){if(null===t)throw ec();nc(t.userId===n.userId),r.push(cd(n.R,t))}))}),qf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Od(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),qf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return qf.resolve();var r=IDBKeyRange.lowerBound(Cf.prefixForUser(e.userId)),i=[];return Id(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=_f(t[1]);i.push(s)}else r.done()}).next(function(){nc(0===i.length)})})},t.prototype.containsKey=function(t,e){return Cd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return xd(t).get(this.userId).next(function(t){return t||new Ef(e.userId,-1,"")})},t}();function Cd(t,e,n){var r=Cf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Id(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Td(t){return Xf(t,Sf.store)}function Id(t){return Xf(t,Cf.store)}function xd(t){return Xf(t,Ef.store)}var Ad=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),kd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Ad(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return lc.fromTimestamp(new cc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return jd(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return nc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return jd(t).Ot(function(o,a){var u=ld(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return qf.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return jd(t).Ot(function(t,n){var r=ld(n);e(r)})},t.prototype.Xt=function(t){return Pd(t).get(Pf.key).next(function(t){return nc(null!==t),t})},t.prototype.Zt=function(t,e){return Pd(t).put(Pf.key,e)},t.prototype.te=function(t,e){return jd(t).put(hd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Wc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jd(t).Ot({range:r,index:kf.queryTargetsIndexName},function(t,n,r){var s=ld(n);Yc(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Dd(t);return e.forEach(function(e){var o=yf(e.path);i.push(s.put(new jf(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),qf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Dd(t);return qf.forEach(e,function(e){var s=yf(e.path);return qf.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Dd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Dd(t),i=Ch();return r.Ot({range:n,kt:!0},function(t,e,n){var r=_f(t[1]),s=new kc(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=yf(e.path),r=IDBKeyRange.bound([n],[uc(n)],!1,!0),i=0;return Dd(t).Ot({index:jf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return jd(t).get(e).next(function(t){return t?ld(t):null})},t}();function jd(t){return Xf(t,kf.store)}function Pd(t){return Xf(t,Pf.store)}function Dd(t){return Xf(t,jf.store)}function Nd(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){if(t.code!==Gu.FAILED_PRECONDITION||t.message!==Ff)throw t;return Zu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Rd(t,e){var n=t[1],r=e[1],i=oc(t[0],e[0]);return 0===i?oc(n,r):i}var Md=function(){function t(t){this.ne=t,this.buffer=new mh(Rd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Rd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ld=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Zu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(gt.b)(e,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Kf(e=n.sent())?(Zu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Nd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Fd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return qf.resolve(Ku.o);var r=new Md(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zu("LruGarbageCollector","Garbage collection skipped; disabled"),qf.resolve(_d)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Zu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),_d):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Zu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Yu()<=Hi.a.DEBUG&&Zu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),qf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Ud=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Fd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Vd(t,n)},t.prototype.removeReference=function(t,e,n){return Vd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Vd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return xd(t).$t(function(r){return Cd(t,r,e).next(function(t){return t&&(n=!0),qf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Dd(t).delete([0,yf(o.path)])})});i.push(u)}}).next(function(){return qf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Vd(t,e)},t.prototype.we=function(t,e){var n,r=Dd(t),i=Ku.o;return r.Ot({index:jf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ku.o&&e(new kc(_f(n)),i),i=o,n=s):i=Ku.o}).next(function(){i!==Ku.o&&e(new kc(_f(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Vd(t,e){return Dd(t).put(function(t,e){return new jf(0,yf(t.path),e)}(e,t.currentSequenceNumber))}var qd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){fc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return dc(this.inner)},t}(),Bd=function(){function t(){this.changes=new qd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:lc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Kc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?qf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Hd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Kd(t).put(Gd(e),n)},t.prototype.removeEntry=function(t,e){var n=Kd(t),r=Gd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Kd(t).get(Gd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Kd(t).get(Gd(e)).next(function(t){return{document:n.ye(e,t),size:Ed(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=bh();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=bh(),i=new dh(kc.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Ed(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return qf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Kd(t).Ot({range:r},function(t,e,r){for(var o=kc.fromSegments(t);s&&kc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=bh(),s=e.path.length+1,o={};if(n.isEqual(lc.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=sd(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=xf.collectionReadTimeIndex}return Kd(t).Ot(o,function(t,n,o){if(t.length===s){var a=rd(r.R,n);e.path.isPrefixOf(a.key.path)?Il(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new zd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Qd(t).get(Af.key).next(function(t){return nc(!!t),t})},t.prototype.me=function(t,e){return Qd(t).put(Af.key,e)},t.prototype.ye=function(t,e){if(e){var n=rd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(lc.min()))return n}return Kc.newInvalidDocument(t)},t}(),zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new qd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(gt.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new mh(function(t,e){return oc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=id(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Ed(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=id(e.Ie.R,Kc.newNoDocument(s,lc.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),qf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Bd);function Qd(t){return Xf(t,Af.store)}function Kd(t){return Xf(t,xf.store)}function Gd(t){return t.path.toArray()}var $d=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;nc(n<r&&n>=0&&r<=11);var s=new Bf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Of.store)}(t),function(t){t.createObjectStore(Ef.store,{keyPath:Ef.keyPath}),t.createObjectStore(Sf.store,{keyPath:Sf.keyPath,autoIncrement:!0}).createIndex(Sf.userMutationsIndex,Sf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cf.store)}(t),Wd(t),function(t){t.createObjectStore(xf.store)}(t));var o=qf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jf.store),t.deleteObjectStore(kf.store),t.deleteObjectStore(Pf.store)}(t),Wd(t)),o=o.next(function(){return function(t){var e=t.store(Pf.store),n=new Pf(0,0,lc.min().toTimestamp(),0);return e.put(Pf.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Sf.store).Nt().next(function(n){t.deleteObjectStore(Sf.store),t.createObjectStore(Sf.store,{keyPath:Sf.keyPath,autoIncrement:!0}).createIndex(Sf.userMutationsIndex,Sf.userMutationsKeyPath,{unique:!0});var r=e.store(Sf.store),i=n.map(function(t){return r.put(t)});return qf.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Nf.store,{keyPath:Nf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Af.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(xf.store);e.createIndex(xf.readTimeIndex,xf.readTimeIndexPath,{unique:!1}),e.createIndex(xf.collectionReadTimeIndex,xf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Rf.store,{keyPath:Rf.keyPath})}(t),function(t){t.createObjectStore(Mf.store,{keyPath:Mf.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(xf.store).Ot(function(t,n){e+=Ed(n)}).next(function(){var n=new Af(e);return t.store(Af.store).put(Af.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Ef.store),r=t.store(Sf.store);return n.Nt().next(function(n){return qf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Sf.userMutationsIndex,i).next(function(r){return qf.forEach(r,function(r){nc(r.userId===n.userId);var i=cd(e.R,r);return Od(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(jf.store),n=t.store(xf.store);return t.store(Pf.store).get(Pf.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new gc(n),o=function(t){return[0,yf(t)]}(s);r.push(e.get(o).next(function(n){return n?qf.resolve():function(n){return e.put(new jf(0,yf(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return qf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Df.store,{keyPath:Df.keyPath});var n=e.store(Df.store),r=new yd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:yf(i)})}};return e.store(xf.store).Ot({kt:!0},function(t,e){var n=new gc(t);return i(n.popLast())}).next(function(){return e.store(Cf.store).Ot({kt:!0},function(t,e){var n=_f(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(kf.store);return n.Ot(function(t,r){var i=ld(r),s=hd(e.R,i);return n.put(s)})},t}();function Wd(t){t.createObjectStore(jf.store,{keyPath:jf.keyPath}).createIndex(jf.documentTargetsIndex,jf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(kf.store,{keyPath:kf.keyPath}).createIndex(kf.queryTargetsIndexName,kf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pf.store)}var Yd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zd=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new $u(Gu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ud(this,i),this.Le=n+"main",this.R=new nd(u),this.Be=new Hf(this.Le,11,new $d(this.R)),this.qe=new kd(this.referenceDelegate,this.R),this.Ut=new vd,this.Ue=function(t,e){return new Hd(t,e)}(this.R,this.Ut),this.Qe=new dd,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Xu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $u(Gu.FAILED_PRECONDITION,Yd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ku(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(gt.b)(e,void 0,void 0,function(){return Object(gt.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(gt.b)(e,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(gt.b)(e,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Jd(e).put(new Nf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Kf(e))return Zu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Zu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Xd(t).get(Of.key).next(function(t){return qf.resolve(e.tn(t))})},t.prototype.en=function(t){return Jd(t).delete(this.clientId)},t.prototype.nn=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(gt.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Xf(t,Nf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return qf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?qf.resolve(!0):Xd(t).get(Of.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new $u(Gu.FAILED_PRECONDITION,Yd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Jd(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Zu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(gt.b)(this,void 0,void 0,function(){var t=this;return Object(gt.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Of.store,Nf.store],function(e){var n=new Zf(e,Ku.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Jd(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Sd.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Zu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Lf,function(s){return r=new Zf(s,i.Ne?i.Ne.next():Ku.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Xu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new $u(Gu.FAILED_PRECONDITION,Ff);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Xd(t).get(Of.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $u(Gu.FAILED_PRECONDITION,Yd)})},t.prototype.Ze=function(t){var e=new Of(this.clientId,this.allowTabSynchronization,Date.now());return Xd(t).put(Of.key,e)},t.yt=function(){return Hf.yt()},t.prototype.Xe=function(t){var e=this,n=Xd(t);return n.get(Of.key).next(function(t){return e.tn(t)?(Zu("IndexedDbPersistence","Releasing primary lease."),n.delete(Of.key)):qf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Zu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Xu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Xd(t){return Xf(t,Of.store)}function Jd(t){return Xf(t,Nf.store)}function tp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ep=function(t,e){this.progress=t,this.wn=e},np=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return kc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):_l(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new kc(e)).next(function(t){var e=wh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=wh();return this.Ut.getCollectionParents(t,i).next(function(o){return qf.forEach(o,function(o){var a=function(t,e){return new dl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Kc.newInvalidDocument(c),r=r.insert(c,l)),Zl(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Il(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ch(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof nh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),rp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ch(),i=Ch(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ip=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(lc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(ml(e)||yl(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Yu()<=Hi.a.DEBUG&&Zu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new mh(xl(t));return e.forEach(function(e,r){Il(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Yu()<=Hi.a.DEBUG&&Zu("QueryEngine","Using full collection scan to execute query:",Tl(e)),this.Sn.getDocumentsMatchingQuery(t,e,lc.min())},t}(),sp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new dh(oc),this.kn=new qd(function(t){return Wc(t)},Yc),this.On=lc.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new np(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function op(t,e,n,r){return new sp(t,e,n,r)}function ap(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(gt.d)(this,function(o){switch(o.label){case 0:return n=rc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new np(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Ch(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function up(t,e){var n=rc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=qf.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);nc(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function cp(t){var e=rc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function lp(t,e){var n=rc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return nc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=bh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(hp(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(lc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return qf.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function hp(t,e,n,r,i){var s=Ch();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=bh();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(lc.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Zu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function fp(t,e){var n=rc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function dp(t,e){var n=rc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?qf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ed(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function pp(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:r=rc(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Kf(o=a.sent()))throw o;return Zu("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function gp(t,e,n){var r=rc(t),i=lc.min(),s=Ch();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=rc(t),i=r.kn.get(n);return void 0!==i?qf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ol(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:lc.min(),n?s:Ch())}).next(function(t){return{documents:t,Bn:s}})})}function mp(t,e){var n=rc(t),r=rc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function yp(t){var e=rc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=rc(t),i=bh(),s=sd(n),o=Kd(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:xf.readTimeIndex,range:a},function(t,e){var n=rd(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:od(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function vp(t){return Object(gt.b)(this,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){return[2,(e=rc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kd(t),n=lc.min();return e.Ot({index:xf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=od(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function bp(t,e,n,r){return Object(gt.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(gt.d)(this,function(p){switch(p.label){case 0:for(i=rc(t),s=Ch(),o=bh(),a=Eh(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,dp(i,function(t){return Ol(gl(gc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return hp(t,f,o,lc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function _p(t,e,n){return void 0===n&&(n=Ch()),Object(gt.b)(this,void 0,void 0,function(){var r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return[4,dp(t,Ol(fd(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=rc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Hh(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(bc.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var wp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return qf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Hh(n.createTime)}),qf.resolve()},t.prototype.getNamedQuery=function(t,e){return qf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:fd(t.bundledQuery),readTime:Hh(t.readTime)}}(e)),qf.resolve()},t}(),Op=function(){function t(){this.Wn=new mh(Ep.Gn),this.zn=new mh(Ep.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ep(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Ep(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new kc(new gc([])),r=new Ep(n,t),i=new Ep(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new kc(new gc([])),n=new Ep(e,t),r=new Ep(e,t+1),i=Ch();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ep(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ep=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return kc.comparator(t.key,e.key)||oc(t.ns,e.ns)},t.Hn=function(t,e){return oc(t.ns,e.ns)||kc.comparator(t.key,e.key)},t}(),Sp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new mh(Ep.Gn)}return t.prototype.checkEmpty=function(t){return qf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Jf(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Ep(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return qf.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return qf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return qf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return qf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return qf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ep(e,0),i=new Ep(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),qf.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new mh(oc);return e.forEach(function(t){var e=new Ep(t,0),i=new Ep(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),qf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;kc.isDocumentKey(i)||(i=i.child(""));var s=new Ep(new kc(i),0),o=new mh(oc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),qf.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;nc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return qf.forEach(e.mutations,function(i){var s=new Ep(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ep(e,0),r=this.rs.firstAfterOrEqual(n);return qf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return qf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Cp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new dh(kc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return qf.resolve(n?n.document.clone():Kc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=bh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Kc.newInvalidDocument(t))}),qf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=bh(),i=new kc(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Il(e,u)&&(r=r.insert(u.key,u.clone()))}return qf.resolve(r)},t.prototype.fs=function(t,e){return qf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Tp(this)},t.prototype.getSize=function(t){return qf.resolve(this.size)},t}(),Tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(gt.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),qf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Bd),Ip=function(){function t(t){this.persistence=t,this.ds=new qd(function(t){return Wc(t)},Yc),this.lastRemoteSnapshotVersion=lc.min(),this.highestTargetId=0,this.ws=0,this._s=new Op,this.targetCount=0,this.ys=Ad.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),qf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return qf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return qf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),qf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),qf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ad(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,qf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),qf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,qf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),qf.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return qf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return qf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),qf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),qf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),qf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return qf.resolve(n)},t.prototype.containsKey=function(t,e){return qf.resolve(this._s.containsKey(e))},t}(),xp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ku(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ip(this),this.Ut=new md,this.Ue=function(t,e){return new Cp(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new nd(e),this.Qe=new wp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Sp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Zu("MemoryPersistence","Starting transaction:",t);var i=new Ap(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return qf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ap=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(gt.c)(e,t),e}(Uf),kp=function(){function t(t){this.persistence=t,this.As=new Op,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ec()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),qf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),qf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),qf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qf.forEach(this.vs,function(r){var i=kc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return qf.or([function(){return qf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),jp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Pp(t,e){return"firestore_clients_"+t+"_"+e}function Dp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Np(t,e){return"firestore_targets_"+t+"_"+e}jp.UNAUTHENTICATED=new jp(null),jp.GOOGLE_CREDENTIALS=new jp("google-credentials-uid"),jp.FIRST_PARTY=new jp("first-party-uid");var Rp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new $u(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Xu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new $u(i.error.code,i.error.message)),s?new t(e,i.state,r):(Xu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ih(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ac(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Xu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Up=function(){function t(){this.activeTargetIds=Ih()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Vp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new dh(oc),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Pp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Up),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(gt.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Pp(this.persistenceKey,r)))&&(s=Lp.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Np(this.persistenceKey,t));if(n){var r=Mp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Np(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Zu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Zu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Zu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Zu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Xu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(gt.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(gt.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Ku.o;if(null!=t)try{var n=JSON.parse(t);nc("number"==typeof n),e=n}catch(t){Xu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ku.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Rp(this.currentUser,t,e,n),i=Dp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Dp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Np(this.persistenceKey,t),i=new Mp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Lp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Rp.Vs(new jp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Mp.Vs(r,e)},t.prototype.js=function(t){return Fp.Vs(t)},t.prototype.ii=function(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Zu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ih();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),qp=function(){function t(){this.li=new Up,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Up,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Bp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Hp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Zu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Zu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Kp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(gt.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Qu;o.listenOnce(Bu.COMPLETE,function(){try{switch(o.getLastErrorCode()){case qu.NO_ERROR:var e=o.getResponseJson();Zu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case qu.TIMEOUT:Zu("Connection",'RPC "'+t+'" timed out'),s(new $u(Gu.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:var n=o.getStatus();if(Zu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Gu).indexOf(e)>=0?e:Gu.UNKNOWN}(r.status);s(new $u(a,r.message))}else s(new $u(Gu.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new $u(Gu.UNAVAILABLE,"Connection failed."));break;default:ec()}}finally{Zu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Mu,i=Uo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(Bi.m)()||Object(Bi.o)()||Object(Bi.k)()||Object(Bi.l)()||Object(Bi.p)()||Object(Bi.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Zu("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Qp({Ei:function(t){c?Zu("Connection","Not sending because WebChannel is closed:",t):(u||(Zu("Connection","Opening WebChannel transport."),a.open(),u=!0),Zu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,zu.EventType.OPEN,function(){c||Zu("Connection","WebChannel transport opened.")}),h(a,zu.EventType.CLOSE,function(){c||(c=!0,Zu("Connection","WebChannel transport closed"),l.Vi())}),h(a,zu.EventType.ERROR,function(t){c||(c=!0,Ju("Connection","WebChannel transport errored:",t),l.Vi(new $u(Gu.UNAVAILABLE,"The operation could not be completed")))}),h(a,zu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];nc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Zu("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=oh[t];if(void 0!==e)return fh(e)}(i),o=r.message;void 0===s&&(s=Gu.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new $u(s,o)),a.close()}else Zu("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Hu.STAT_EVENT,function(t){10===t.stat?Zu("Connection","Detected buffering proxy"):11===t.stat&&Zu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Zu("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Zu("RestConnection","Received: ",t),t},function(e){throw Ju("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+zp[t]},t}());function Gp(){return"undefined"!=typeof window?window:null}function $p(){return"undefined"!=typeof document?document:null}function Wp(t){return new Uh(t,!0)}var Yp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Zu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Zp=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Yp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Gu.RESOURCE_EXHAUSTED?(Xu(e.toString()),Xu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Gu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new $u(Gu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(gt.b)(t,void 0,void 0,function(){return Object(gt.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Zu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Zu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Xp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(gt.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ec()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(nc(void 0===e||"string"==typeof e),bc.fromBase64String(e||"")):(nc(void 0===e||e instanceof Uint8Array),bc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Gu.UNKNOWN:fh(t.code);return new $u(e,t.message||"")}(a);n=new Ph(r,i,s,o||null)}else if("documentChange"in e){i=Gh(t,(r=e.documentChange).document.name),s=Hh(r.document.updateTime);var a=new zc({mapValue:{fields:r.document.fields}}),u=(o=Kc.newFoundDocument(i,s,a),r.targetIds||[]);n=new kh(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Gh(t,(r=e.documentDelete).document),s=r.readTime?Hh(r.readTime):lc.min(),a=Kc.newNoDocument(i,s),n=new kh([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Gh(t,(r=e.documentRemove).document),n=new kh([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ec();var c=e.filter;i=new lh(r=c.count||0),n=new jh(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return lc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?lc.min():e.readTime?Hh(e.readTime):lc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Yh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Zc(r)?{documents:nf(t,r)}:{query:rf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=qh(t,e.resumeToken):e.snapshotVersion.compareTo(lc.min())>0&&(n.readTime=Vh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ec()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Yh(this.R),e.removeTarget=t,this.cr(e)},e}(Zp),Jp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(gt.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(nc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(nc(void 0!==e),t.map(function(t){return function(t,e){var n=Hh(t.updateTime?t.updateTime:e);return n.isEqual(lc.min())&&(n=Hh(e)),new Kl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Hh(t.commitTime);return this.listener.Tr(n,e)}return nc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Yh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return tf(e.R,t)})};this.cr(n)},e}(Zp),tg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(gt.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new $u(Gu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Gu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new $u(Gu.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Gu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new $u(Gu.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),eg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Xu(e),this.Vr=!1):Zu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ng=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(gt.b)(s,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return hg(this)?(Zu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(gt.b)(this,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return(e=rc(t)).$r.add(4),[4,ig(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,rg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new eg(n,r)};function rg(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n;return Object(gt.d)(this,function(r){switch(r.label){case 0:if(!hg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ig(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n;return Object(gt.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sg(t,e){var n=rc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),lg(n)?cg(n):Tg(n).er()&&ag(n,e))}function og(t,e){var n=rc(t),r=Tg(n);n.Or.delete(e),r.er()&&ug(n,e),0===n.Or.size&&(r.er()?r.ir():hg(n)&&n.Br.set("Unknown"))}function ag(t,e){t.qr.U(e.targetId),Tg(t).mr(e)}function ug(t,e){t.qr.U(e),Tg(t).yr(e)}function cg(t){t.qr=new Nh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Tg(t).start(),t.Br.Sr()}function lg(t){return hg(t)&&!Tg(t).tr()&&t.Or.size>0}function hg(t){return 0===rc(t).$r.size}function fg(t){t.qr=void 0}function dg(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){return t.Or.forEach(function(e,n){ag(t,e)}),[2]})})}function pg(t,e){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(n){return fg(t),lg(t)?(t.Br.Nr(e),cg(t)):t.Br.set("Unknown"),[2]})})}function gg(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s;return Object(gt.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Ph&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(gt.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Zu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mg(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof kh?t.qr.X(e):e instanceof jh?t.qr.rt(e):t.qr.et(e),n.isEqual(lc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,cp(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(bc.EMPTY_BYTE_STRING,n.snapshotVersion)),ug(t,e);var r=new ed(n.target,e,1,n.sequenceNumber);ag(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Zu("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,mg(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function mg(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r=this;return Object(gt.d)(this,function(i){switch(i.label){case 0:if(!Kf(e))throw e;return t.$r.add(1),[4,ig(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return cp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(gt.b)(r,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return Zu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,rg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function yg(t,e){return e().catch(function(n){return mg(t,n,e)})}function vg(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(gt.d)(this,function(o){switch(o.label){case 0:e=rc(t),n=Ig(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return hg(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fp(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Ig(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,mg(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return bg(e)&&_g(e),[2]}})})}function bg(t){return hg(t)&&!Ig(t).tr()&&t.kr.length>0}function _g(t){Ig(t).start()}function wg(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){return Ig(t).Ar(),[2]})})}function Og(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n,r;return Object(gt.d)(this,function(i){for(e=Ig(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Eg(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=td.from(r,e,n),[4,yg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,vg(t)];case 2:return s.sent(),[2]}})})}function Sg(t,e){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(n){switch(n.label){case 0:return e&&Ig(t).pr?[4,function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r;return Object(gt.d)(this,function(i){switch(i.label){case 0:return hh(r=e.code)&&r!==Gu.ABORTED?(n=t.kr.shift(),Ig(t).sr(),[4,yg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,vg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return bg(t)&&_g(t),[2]}})})}function Cg(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n;return Object(gt.d)(this,function(r){switch(r.label){case 0:return n=rc(t),e?(n.$r.delete(2),[4,rg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,ig(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Tg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=rc(t);return r.br(),new Xp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:dg.bind(null,t),Ri:pg.bind(null,t),_r:gg.bind(null,t)}),t.Mr.push(function(n){return Object(gt.b)(e,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),lg(t)?cg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),fg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Ig(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=rc(t);return r.br(),new Jp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:wg.bind(null,t),Ri:Sg.bind(null,t),Ir:Og.bind(null,t),Tr:Eg.bind(null,t)}),t.Mr.push(function(n){return Object(gt.b)(e,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,vg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Zu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var xg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $u(Gu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ag(t,e){if(Xu("AsyncQueue",e+": "+t),Kf(t))return new $u(Gu.UNAVAILABLE,e+": "+t);throw t}var kg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||kc.comparator(e.key,n.key)}:function(t,e){return kc.comparator(t.key,e.key)},this.keyedMap=wh(),this.sortedSet=new dh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),jg=function(){function t(){this.Kr=new dh(kc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ec():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Pg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,kg.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Dg=function(){this.Wr=void 0,this.listeners=[]},Ng=function(){this.queries=new qd(function(t){return Cl(t)},Sl),this.onlineState="Unknown",this.Gr=new Set};function Rg(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(gt.d)(this,function(c){switch(c.label){case 0:if(n=rc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Dg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Ag(a,"Initialization of query '"+Tl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Ug(n),[2]}})})}function Mg(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(gt.d)(this,function(a){return n=rc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Lg(t,e){for(var n=rc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Ug(n)}function Fg(t,e,n){var r=rc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Ug(t){t.Gr.forEach(function(t){t.next()})}var Vg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Pg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),qg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Bg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Gh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Jh(this.R,t.document,!1):Kc.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Hh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Bg(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ch()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return[4,bp(this.localStore,new Bg(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,_p(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ep(Object.assign({},this.progress),t))]}})})}}();var Hg=function(t){this.key=t},zg=function(t){this.key=t},Qg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ch(),this.mutatedKeys=Ch(),this.lo=xl(t),this.fo=new kg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new jg,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=ml(this.query)&&i.size===this.query.limit?i.last():null,c=yl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Il(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),ml(this.query)||yl(this.query))for(;o.size>this.query.limit;){var l=ml(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ec()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Pg(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new jg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ch(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new zg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Hg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ch();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Pg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Kg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Gg=function(t){this.key=t,this.bo=!1},$g=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new qd(function(t){return Cl(t)},Sl),this.Vo=new Map,this.So=new Set,this.Do=new dh(kc.comparator),this.Co=new Map,this.No=new Op,this.xo={},this.Fo=new Map,this.ko=Ad.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Wg(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:return n=Sm(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,dp(n.localStore,Ol(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Yg(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&sg(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Yg(t,e,n,r){return Object(gt.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(gt.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(gt.b)(this,void 0,void 0,function(){var i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,gp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(cm(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,gp(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Qg(e,i.Bn),o=s._o(i.documents),a=Ah.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),cm(t,n,u.To),c=new Kg(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Zg(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return n=rc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Sl(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,pp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),og(n.remoteStore,r.targetId),am(n,r.targetId)}).catch(Nd)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return am(n,r.targetId),[4,pp(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Xg(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:r=Cm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=rc(t),i=cc.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ch());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Xl(c,n.get(c.key));null!=l&&o.push(new nh(c.key,l,Qc(l.toProto().mapValue),Gl.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new dh(oc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,fm(r,i.changes)];case 3:return a.sent(),[4,vg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Ag(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Jg(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r;return Object(gt.d)(this,function(i){switch(i.label){case 0:n=rc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,lp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(nc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?nc(r.bo):t.removedDocuments.size>0&&(nc(r.bo),r.bo=!1))}),[4,fm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Nd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function tm(t,e,n){var r=rc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=rc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Ug(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function em(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(gt.d)(this,function(c){switch(c.label){case 0:return(r=rc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new dh(kc.comparator)).insert(s,Kc.newNoDocument(s,lc.min())),a=Ch().add(s),u=new xh(lc.min(),new Map,new mh(oc),o,a),[4,Jg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),hm(r),[3,4];case 2:return[4,pp(r.localStore,e,!1).then(function(){return am(r,e,n)}).catch(Nd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function nm(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:n=rc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,up(n.localStore,e)];case 2:return i=s.sent(),om(n,r,null),sm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Nd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function rm(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:r=rc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=rc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return nc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),om(r,e,n),sm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,fm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Nd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function im(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:hg((n=rc(t)).remoteStore)||Zu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=rc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Ag(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function sm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function om(t,e,n){var r=rc(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function am(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||um(t,e)})}function um(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(og(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),hm(t))}function cm(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Hg?(t.No.addReference(s.key,e),lm(t,s)):s instanceof zg?(Zu("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||um(t,s.key)):ec()}}function lm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Zu("SyncEngine","New document in limbo: "+n),t.So.add(r),hm(t))}function hm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new kc(gc.fromString(e)),r=t.ko.next();t.Co.set(r,new Gg(n)),t.Do=t.Do.insert(n,r),sg(t.remoteStore,new ed(Ol(gl(n.path)),r,2,Ku.o))}}function fm(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:return r=rc(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=rp.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(gt.d)(this,function(l){switch(l.label){case 0:n=rc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return qf.forEach(e,function(e){return qf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return qf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Kf(r=l.sent()))throw r;return Zu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function dm(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r;return Object(gt.d)(this,function(i){switch(i.label){case 0:return(n=rc(t)).currentUser.isEqual(e)?[3,3]:(Zu("SyncEngine","User change. New user:",e.toKey()),[4,ap(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new $u(Gu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,fm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function pm(t,e){var n=rc(t),r=n.Co.get(e);if(r&&r.bo)return Ch().add(r.key);var i=Ch(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function gm(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return[4,gp((n=rc(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&cm(n,e.targetId,i.To),i)]}})})}function mm(t){return Object(gt.b)(this,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){return[2,yp((e=rc(t)).localStore).then(function(t){return fm(e,t)})]})})}function ym(t,e,n,r){return Object(gt.b)(this,void 0,void 0,function(){var i,s;return Object(gt.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=rc(t),r=rc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):qf.resolve(null)})})}((i=rc(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,vg(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(om(i,e,r||null),sm(i,e),function(t,e){rc(rc(t)._n).Gt(e)}(i.localStore,e)):ec(),o.label=4;case 4:return[4,fm(i,s)];case 5:return o.sent(),[3,7];case 6:Zu("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function vm(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(gt.d)(this,function(c){switch(c.label){case 0:return Sm(n=rc(t)),Cm(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bm(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Cg(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)sg(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return am(n,e),pp(n.localStore,e,!0)}),og(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,bm(n,a)];case 5:return c.sent(),function(t){var e=rc(t);e.Co.forEach(function(t,n){og(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new dh(kc.comparator)}(n),n.Oo=!1,[4,Cg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function bm(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(gt.d)(this,function(g){switch(g.label){case 0:n=rc(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,dp(n.localStore,Ol(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,gm(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,mp(n.localStore,a)];case 8:return p=g.sent(),[4,dp(n.localStore,p)];case 9:return u=g.sent(),[4,Yg(n,_m(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function _m(t){return pl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wm(t){var e=rc(t);return rc(rc(e.localStore).persistence).fn()}function Om(t,e,n,r){return Object(gt.b)(this,void 0,void 0,function(){var i,s,o;return Object(gt.d)(this,function(a){switch(a.label){case 0:return(i=rc(t)).Oo?(Zu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yp(i.localStore)];case 3:return s=a.sent(),o=xh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,fm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,pp(i.localStore,e,!0)];case 6:return a.sent(),am(i,e,r),[3,8];case 7:ec(),a.label=8;case 8:return[2]}})})}function Em(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(gt.d)(this,function(f){switch(f.label){case 0:if(!(r=Sm(t)).Oo)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Zu("SyncEngine","Adding an already active target "+o),[3,5]):[4,mp(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,dp(r.localStore,a)];case 3:return u=f.sent(),[4,Yg(r,_m(a),u.targetId,!1)];case 4:f.sent(),sg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(gt.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,pp(r.localStore,t,!1).then(function(){og(r.remoteStore,t),am(r,t)}).catch(Nd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Sm(t){var e=rc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=em.bind(null,e),e.vo._r=Lg.bind(null,e.eventManager),e.vo.Mo=Fg.bind(null,e.eventManager),e}function Cm(t){var e=rc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rm.bind(null,e),e}var Tm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return this.R=Wp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return op(this.persistence,new ip,t.initialUser,this.R)},t.prototype.qo=function(t){return new xp(kp.bs,this.R)},t.prototype.Bo=function(t){return new qp},t.prototype.terminate=function(){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Im=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(gt.c)(e,t),e.prototype.initialize=function(e){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,vp(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Cm(this.Ko.syncEngine)];case 4:return n.sent(),[4,vg(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return op(this.persistence,new ip,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Ld(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=tp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?wd.withCacheSize(this.cacheSizeBytes):wd.DEFAULT;return new Zd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Gp(),$p(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new qp},e}(Tm),xm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(gt.c)(e,t),e.prototype.initialize=function(e){return Object(gt.b)(this,void 0,void 0,function(){var n,r=this;return Object(gt.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Vp?(this.sharedClientState.syncEngine={ui:ym.bind(null,n),ai:Om.bind(null,n),hi:Em.bind(null,n),fn:wm.bind(null,n),ci:mm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(gt.b)(r,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return[4,vm(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Gp();if(!Vp.yt(e))throw new $u(Gu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Vp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Im),Am=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n=this;return Object(gt.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return tm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dm.bind(null,this.syncEngine),[4,Cg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Ng},t.prototype.createDatastore=function(t){var e=Wp(t.databaseInfo.databaseId),n=new Kp(t.databaseInfo);return function(t,e,n){return new tg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return tm(o.syncEngine,t,0)},s=Hp.yt()?new Hp:new Bp,new ng(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new $g(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(gt.b)(this,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return e=rc(t),Zu("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,ig(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),km=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),jm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Vf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(gt.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new qg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(gt.b)(this,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n=this;return Object(gt.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $u(Gu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(gt.d)(this,function(u){switch(u.label){case 0:return n=rc(t),r=Yh(n.R)+"/documents",i={documents:e.map(function(t){return Kh(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){nc(!!e.found);var n=Gh(t,e.found.name),r=Hh(e.found.updateTime),i=new zc({mapValue:{fields:e.found.fields}});return Kc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){nc(!!e.missing),nc(!!e.readTime);var n=Gh(t,e.missing),r=Hh(e.readTime);return Kc.newNoDocument(n,r)}(t,e):ec()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());nc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new uh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e=this;return Object(gt.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=kc.fromPath(n);e.mutations.push(new ch(r,e.precondition(r)))}),[4,function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return n=rc(t),r=Yh(n.R)+"/documents",i={writes:e.map(function(t){return tf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ec();e=lc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $u(Gu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Gl.updateTime(e):Gl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(lc.min()))throw new $u(Gu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gl.updateTime(e)}return Gl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Pm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Yp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(gt.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(gt.d)(this,function(r){return t=new jm(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ic(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!hh(e)}return!1},t}(),Dm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=jp.UNAUTHENTICATED,this.clientId=sc.u(),this.credentialListener=function(){},this.receivedInitialUser=new Vf,this.credentials.setChangeListener(function(t){Zu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new $u(Gu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Vf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gt.b)(t,void 0,void 0,function(){var t,n;return Object(gt.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ag(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Nm(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(gt.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Zu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(gt.b)(i,void 0,void 0,function(){return Object(gt.d)(this,function(t){switch(t.label){case 0:return[4,ap(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Rm(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r;return Object(gt.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Mm(t)];case 1:return n=i.sent(),Zu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(gt.b)(this,void 0,void 0,function(){var n,r;return Object(gt.d)(this,function(i){switch(i.label){case 0:return(n=rc(t)).asyncQueue.verifyOperationInProgress(),Zu("RemoteStore","RemoteStore received new credentials"),r=hg(n),n.$r.add(3),[4,ig(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,rg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Mm(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Zu("FirestoreClient","Using default OfflineComponentProvider"),[4,Nm(t,new Tm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Lm(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Zu("FirestoreClient","Using default OnlineComponentProvider"),[4,Rm(t,new Am)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Fm(t){return Mm(t).then(function(t){return t.persistence})}function Um(t){return Mm(t).then(function(t){return t.localStore})}function Vm(t){return Lm(t).then(function(t){return t.remoteStore})}function qm(t){return Lm(t).then(function(t){return t.syncEngine})}function Bm(t){return Object(gt.b)(this,void 0,void 0,function(){var e,n;return Object(gt.d)(this,function(r){switch(r.label){case 0:return[4,Lm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Wg.bind(null,e.syncEngine),n.onUnlisten=Zg.bind(null,e.syncEngine),n)]}})})}function Hm(t,e,n){var r=this;void 0===n&&(n={});var i=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(r,void 0,void 0,function(){var r;return Object(gt.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new km({next:function(s){e.enqueueAndForget(function(){return Mg(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new $u(Gu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new $u(Gu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Vg(gl(n.path),s,{includeMetadataChanges:!0,so:!0});return Rg(t,o)},[4,Bm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function zm(t,e,n){var r=this;void 0===n&&(n={});var i=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(r,void 0,void 0,function(){var r;return Object(gt.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new km({next:function(n){e.enqueueAndForget(function(){return Mg(t,o)}),n.fromCache&&"server"===r.source?i.reject(new $u(Gu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Vg(n,s,{includeMetadataChanges:!0,so:!0});return Rg(t,o)},[4,Bm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Qm=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},Km=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gm=new Map,$m=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Wm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(jp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ym=function(){function t(t){var e=this;this.oc=null,this.currentUser=jp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Zu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(nc("string"==typeof n.accessToken),new $m(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return nc(null===t||"string"==typeof t),new jp(t)},t}(),Zm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=jp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Xm=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Zm(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(jp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Jm(t,e,n){if(!n)throw new $u(Gu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ty(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $u(Gu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ey(t,e,n,r){if(!0===e&&!0===r)throw new $u(Gu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ny(t){if(!kc.isDocumentKey(t))throw new $u(Gu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ry(t){if(kc.isDocumentKey(t))throw new $u(Gu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function iy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ec()}function sy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $u(Gu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iy(t);throw new $u(Gu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function oy(t,e){if(e<=0)throw new $u(Gu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ay=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $u(Gu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $u(Gu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ey("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),uy=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new ay({}),this._settingsFrozen=!1,t instanceof Km?(this._databaseId=t,this._credentials=new Wm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $u(Gu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Km(t.options.projectId)}(t),this._credentials=new Ym(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new $u(Gu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new $u(Gu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ay(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Wm;switch(t.type){case"gapi":var e=t.client;return nc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xm(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new $u(Gu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Gm.get(this))&&(Zu("ComponentProvider","Removing Datastore"),Gm.delete(this),t.terminate()),Promise.resolve();var t},t}(),cy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hy(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ly=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,gl(r))||this)._path=r,i.type="collection",i}return Object(gt.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new cy(this.firestore,null,new kc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ly);function fy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Bi.g)(t),Jm("collection","path",e),t instanceof uy)return ry(n=gc.fromString.apply(gc,Object(gt.f)([e],r))),new hy(t,null,n);if(!(t instanceof cy||t instanceof hy))throw new $u(Gu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ry(n=gc.fromString.apply(gc,Object(gt.f)([t.path],r)).child(gc.fromString(e))),new hy(t.firestore,null,n)}function dy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(Bi.g)(t),1===arguments.length&&(e=sc.u()),Jm("doc","path",e),t instanceof uy)return ny(n=gc.fromString.apply(gc,Object(gt.f)([e],r))),new cy(t,null,new kc(n));if(!(t instanceof cy||t instanceof hy))throw new $u(Gu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ny(n=t._path.child(gc.fromString.apply(gc,Object(gt.f)([e],r)))),new cy(t.firestore,t instanceof hy?t._converter:null,new kc(n))}function py(t,e){return t=Object(Bi.g)(t),e=Object(Bi.g)(e),(t instanceof cy||t instanceof hy)&&(e instanceof cy||e instanceof hy)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function gy(t,e){return t=Object(Bi.g)(t),e=Object(Bi.g)(e),t instanceof ly&&e instanceof ly&&t.firestore===e.firestore&&Sl(t._query,e._query)&&t._converter===e._converter}var my=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Yp(this,"async_queue_retry"),this.Ec=function(){var e=$p();e&&Zu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=$p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=$p();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(gt.b)(this,void 0,void 0,function(){var t,e=this;return Object(gt.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Kf(t=n.sent()))throw t;return Zu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Xu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=xg.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&ec()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(gt.b)(this,void 0,void 0,function(){var t;return Object(gt.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function yy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Vf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new my,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(gt.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||_y(this),this._firestoreClient.terminate()},e}(uy);function by(t){return t._firestoreClient||_y(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _y(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Qm(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Dm(t._credentials,t._queue,r)}function wy(t,e,n){var r=this,i=new Vf;return t.asyncQueue.enqueue(function(){return Object(gt.b)(r,void 0,void 0,function(){var r;return Object(gt.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Nm(t,n)];case 1:return s.sent(),[4,Rm(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Gu.FAILED_PRECONDITION||t.code===Gu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Oy(t){if(t._initialized||t._terminated)throw new $u(Gu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ey=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $u(Gu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Sy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(bc.fromBase64String(e))}catch(e){throw new $u(Gu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(bc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Cy=function(t){this._methodName=t},Ty=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $u(Gu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $u(Gu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return oc(this._lat,t._lat)||oc(this._long,t._long)},t}(),Iy=/^__.*__$/,xy=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new eh(t,this.data,e,this.fieldTransforms)},t}(),Ay=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new nh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ky(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ec()}}var jy=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Zy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ky(this.Dc)&&Iy.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Py=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Wp(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new jy({Dc:t,methodName:e,Lc:n,path:yc.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Dy(t){var e=t._freezeSettings(),n=Wp(t._databaseId);return new Py(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ny(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);Gy("Data must be an object, but it was:",o,r);var a,u,c=Qy(r,o);if(s.merge)a=new vc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=$y(e,f[h],n);if(!o.contains(d))throw new $u(Gu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Xy(l,d)||l.push(d)}a=new vc(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new xy(new zc(c),a,u)}var Ry=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cy);function My(t,e,n){return new jy({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype._toFieldTransform=function(t){return new Ql(t.path,new Ll)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cy),Fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(gt.c)(e,t),e.prototype._toFieldTransform=function(t){var e=My(this,t,!0),n=this.qc.map(function(t){return zy(t,e)}),r=new Fl(n);return new Ql(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cy),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(gt.c)(e,t),e.prototype._toFieldTransform=function(t){var e=My(this,t,!0),n=this.qc.map(function(t){return zy(t,e)}),r=new Vl(n);return new Ql(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cy),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(gt.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Bl(t.R,Pl(t.R,this.Uc));return new Ql(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cy);function qy(t,e,n,r){var i=t.Bc(1,e,n);Gy("Data must be an object, but it was:",i,r);var s=[],o=zc.empty();fc(r,function(t,r){var a=Yy(e,t,n);r=Object(Bi.g)(r);var u=i.kc(a);if(r instanceof Ry)s.push(a);else{var c=zy(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new vc(s);return new Ay(o,a,i.fieldTransforms)}function By(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[$y(e,r,n)],u=[i];if(s.length%2!=0)throw new $u(Gu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push($y(e,s[c])),u.push(s[c+1]);for(var l=[],h=zc.empty(),f=a.length-1;f>=0;--f)if(!Xy(l,a[f])){var d=a[f],p=u[f];p=Object(Bi.g)(p);var g=o.kc(d);if(p instanceof Ry)l.push(d);else{var m=zy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new vc(l);return new Ay(h,y,o.fieldTransforms)}function Hy(t,e,n,r){return void 0===r&&(r=!1),zy(n,t.Bc(r?4:3,e))}function zy(t,e){if(Ky(t=Object(Bi.g)(t)))return Gy("Unsupported field value:",e,t),Qy(t,e);if(t instanceof Cy)return function(t,e){if(!ky(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=zy(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Bi.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=cc.fromDate(t);return{timestampValue:Vh(e.R,n)}}if(t instanceof cc)return n=new cc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Vh(e.R,n)};if(t instanceof Ty)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sy)return{bytesValue:qh(e.R,t._byteString)};if(t instanceof cy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:zh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+iy(t))}(t,e)}function Qy(t,e){var n={};return dc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(t,function(t,r){var i=zy(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ky(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof cc||t instanceof Ty||t instanceof Sy||t instanceof cy||t instanceof Cy)}function Gy(t,e,n){if(!Ky(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=iy(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function $y(t,e,n){if((e=Object(Bi.g)(e))instanceof Ey)return e._internalPath;if("string"==typeof e)return Yy(t,e);throw Zy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Wy=new RegExp("[~\\*/\\[\\]]");function Yy(t,e,n){if(e.search(Wy)>=0)throw Zy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ey.bind.apply(Ey,Object(gt.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Zy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Zy(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new $u(Gu.INVALID_ARGUMENT,(a+=". ")+t+u)}function Xy(t,e){return t.some(function(t){return t.isEqual(e)})}var Jy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new cy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new tv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ev("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jy);function ev(t,e){return"string"==typeof e?Yy(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}var nv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(gt.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ev("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Jy),iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(rv),sv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new nv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new iv(n._firestore,n._userDataWriter,r.key,r,new nv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $u(Gu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new iv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new nv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new iv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new nv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ov(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function ov(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ec()}}function av(t,e){return t instanceof rv&&e instanceof rv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sv&&e instanceof sv&&t._firestore===e._firestore&&gy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function uv(t){if(yl(t)&&0===t.explicitOrderBy.length)throw new $u(Gu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cv=function(){};function lv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(gt.c)(e,t),e.prototype._apply=function(t){var e=Dy(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new $u(Gu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){vv(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(yv(r,t,l[c]));a={arrayValue:{values:u}}}else a=yv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||vv(o,s),a=Hy(n,"where",o,"in"===s||"not-in"===s);var h=Xc.create(i,s,a);return function(t,e){if(e.g()){var n=bl(t);if(null!==n&&!n.isEqual(e.field))throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=vl(t);null!==r&&bv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new $u(Gu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new ly(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(cv),fv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(gt.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cl(e,n);return function(t,e){if(null===vl(t)){var n=bl(t);null!==n&&bv(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new ly(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new dl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(cv),dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(gt.c)(e,t),e.prototype._apply=function(t){return new ly(t.firestore,t._converter,El(t._query,this.Gc,this.zc))},e}(cv),pv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gt.c)(e,t),e.prototype._apply=function(t){var e=mv(t,this.type,this.Hc,this.Jc);return new ly(t.firestore,t._converter,function(t,e){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(cv),gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(gt.c)(e,t),e.prototype._apply=function(t){var e=mv(t,this.type,this.Hc,this.Jc);return new ly(t.firestore,t._converter,function(t,e){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(cv);function mv(t,e,n,r){if(n[0]=Object(Bi.g)(n[0]),n[0]instanceof Jy)return function(t,e,n,r,i){if(!r)throw new $u(Gu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=wl(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Fc(e,r.key));else{var c=r.data.field(u.field);if(Sc(c))throw new $u(Gu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new al(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Dy(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new $u(Gu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!_l(t)&&-1!==c.indexOf("/"))throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(gc.fromString(c));if(!kc.isDocumentKey(l))throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new kc(l);a.push(Fc(e,h))}else{var f=Hy(n,r,c);a.push(f)}}return new al(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function yv(t,e,n){if("string"==typeof(n=Object(Bi.g)(n))){if(""===n)throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(e)&&-1!==n.indexOf("/"))throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(gc.fromString(n));if(!kc.isDocumentKey(r))throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Fc(t,new kc(r))}if(n instanceof cy)return Fc(t,n._key);throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+iy(n)+".")}function vv(t,e){if(!Array.isArray(t)||0===t.length)throw new $u(Gu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $u(Gu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bv(t,e,n){if(!n.isEqual(e))throw new $u(Gu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var _v=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),jc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ec(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ec()}},t.prototype.convertObject=function(t,e){var n=this,r={};return fc(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Ty(Oc(t.latitude),Oc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Cc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Tc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=wc(t);return new cc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=gc.fromString(t);nc(mf(n));var r=new Km(n.get(1),n.get(3)),i=new kc(n.popFirst(5));return r.isEqual(e)||Xu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function wv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ov=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gt.c)(e,t),e.prototype.convertBytes=function(t){return new Sy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new cy(this.firestore,null,e)},e}(_v),Ev=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Dy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Sv(t,this._firestore),i=wv(r._converter,e,n),s=Ny(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Gl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Sv(t,this._firestore);return s="string"==typeof(e=Object(Bi.g)(e))||e instanceof Ey?By(this._dataReader,"WriteBatch.update",o._key,e,n,r):qy(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Gl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Sv(t,this._firestore);return this._mutations=this._mutations.concat(new uh(e._key,Gl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new $u(Gu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Sv(t,e){if((t=Object(Bi.g)(t)).firestore!==e)throw new $u(Gu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Cv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gt.c)(e,t),e.prototype.convertBytes=function(t){return new Sy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new cy(this.firestore,null,e)},e}(_v);function Tv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=sy(t,cy);var s=sy(t.firestore,vy),o=Dy(s);return xv(s,[("string"==typeof(e=Object(Bi.g)(e))||e instanceof Ey?By(o,"updateDoc",t._key,e,n,r):qy(o,"updateDoc",t._key,e)).toMutation(t._key,Gl.exists(!0))])}function Iv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(Bi.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||yy(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(yy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof cy)c=sy(t.firestore,vy),l=gl(t._key.path),u={next:function(e){i[a]&&i[a](Av(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=sy(t,ly);c=sy(d.firestore,vy),l=d._query;var p=new Cv(c);u={next:function(t){i[a]&&i[a](new sv(c,p,d,t))},error:i[a+1],complete:i[a+2]},uv(t._query)}return function(t,e,n,r){var i=this,s=new km(r),o=new Vg(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(i,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return e=Rg,[4,Bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(i,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return e=Mg,[4,Bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(by(c),l,h,u)}function xv(t,e){return function(t,e){var n=this,r=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(n,void 0,void 0,function(){var n;return Object(gt.d)(this,function(i){switch(i.label){case 0:return n=Xg,[4,qm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(by(t),e)}function Av(t,e,n){var r=n.docs.get(e._key),i=new Cv(t);return new rv(t,i,e._key,r,new nv(n.hasPendingWrites,n.fromCache),e._converter)}var kv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(gt.c)(e,t),e.prototype.get=function(e){var n=this,r=Sv(e,this._firestore),i=new Cv(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new rv(n._firestore,i,r._key,t._document,new nv(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Dy(t)}return t.prototype.get=function(t){var e=this,n=Sv(t,this._firestore),r=new Ov(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ec();var i=t[0];if(i.isFoundDocument())return new Jy(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Jy(e._firestore,r,n._key,null,n._converter);throw ec()})},t.prototype.set=function(t,e,n){var r=Sv(t,this._firestore),i=wv(r._converter,e,n),s=Ny(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Sv(t,this._firestore);return s="string"==typeof(e=Object(Bi.g)(e))||e instanceof Ey?By(this._dataReader,"Transaction.update",o._key,e,n,r):qy(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Sv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function jv(){if("undefined"==typeof Uint8Array)throw new $u(Gu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pv(){if("undefined"==typeof atob)throw new $u(Gu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Dv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Pv(),new t(Sy.fromBase64String(e))},t.fromUint8Array=function(e){return jv(),new t(Sy.fromUint8Array(e))},t.prototype.toBase64=function(){return Pv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return jv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Nv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Oy(t=sy(t,vy));var n=by(t),r=t._freezeSettings(),i=new Am;return wy(n,i,new Im(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Oy(t=sy(t,vy));var e=by(t),n=t._freezeSettings(),r=new Am;return wy(e,r,new xm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new $u(Gu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Vf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(gt.b)(e,void 0,void 0,function(){var e;return Object(gt.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(gt.b)(this,void 0,void 0,function(){return Object(gt.d)(this,function(e){switch(e.label){case 0:return Hf.yt()?[4,Hf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(tp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Rv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Km||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=sy(t,uy))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gt.b)(e,void 0,void 0,function(){var e,n;return Object(gt.d)(this,function(r){switch(r.label){case 0:return[4,Fm(t)];case 1:return e=r.sent(),[4,Vm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=rc(t);return e.$r.delete(0),rg(e)}(n))]}})})})}(by(sy(this._delegate,vy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(gt.b)(e,void 0,void 0,function(){var e,n;return Object(gt.d)(this,function(r){switch(r.label){case 0:return[4,Fm(t)];case 1:return e=r.sent(),[4,Vm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(gt.b)(this,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return(e=rc(t)).$r.add(0),[4,ig(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(by(sy(this._delegate,vy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ey("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(e,void 0,void 0,function(){var e;return Object(gt.d)(this,function(r){switch(r.label){case 0:return e=im,[4,qm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(by(sy(this._delegate,vy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new km(e);return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(n,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){rc(t).Gr.add(e),e.next()},[4,Bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(n,void 0,void 0,function(){var e;return Object(gt.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){rc(t).Gr.delete(e)},[4,Bm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(by(t=sy(t,vy)),yy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new $u(Gu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Wv(this,fy(this._delegate,t))}catch(t){throw qv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Vv(this,dy(this._delegate,t))}catch(t){throw qv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Kv(this,function(t,e){if(t=sy(t,uy),Jm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $u(Gu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ly(t,null,function(t){return new dl(gc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw qv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(n,void 0,void 0,function(){var n;return Object(gt.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Lm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Pm(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(by(t),function(n){return e(new kv(t,n))})}(this._delegate,function(n){return t(new Lv(e,n))})},t.prototype.batch=function(){var t=this;return by(this._delegate),new Fv(new Ev(this._delegate,function(e){return xv(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new $u(Gu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new $u(Gu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Mv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(gt.c)(e,t),e.prototype.convertBytes=function(t){return new Dv(new Sy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Vv.Zc(e,this.firestore,null)},e}(_v),Lv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Mv(t)}return t.prototype.get=function(t){var e=this,n=Yv(t);return this._delegate.get(n).then(function(t){return new zv(e._firestore,new rv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Yv(t);return n?(ty("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Yv(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(gt.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Yv(t);return this._delegate.delete(e),this},t}(),Fv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Yv(t);return n?(ty("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Yv(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(gt.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Yv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Uv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new iv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Mv(e),n),i.set(n,s)),s},t}();Uv.eu=new WeakMap;var Vv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Mv(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new $u(Gu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new cy(n._delegate,r,new kc(e)))},t.Zc=function(e,n,r){return new t(n,new cy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Wv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Wv(this.firestore,fy(this._delegate,t))}catch(t){throw qv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Bi.g)(t))instanceof cy&&py(this._delegate,t)},t.prototype.set=function(t,e){e=ty("DocumentReference.set",e);try{return function(t,e,n){t=sy(t,cy);var r=sy(t.firestore,vy),i=wv(t._converter,e,n);return xv(r,[Ny(Dy(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Gl.none())])}(this._delegate,t,e)}catch(t){throw qv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Tv(this._delegate,t):Tv.apply(void 0,Object(gt.f)([this._delegate,t,e],n))}catch(t){throw qv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return xv(sy((t=this._delegate).firestore,vy),[new uh(t._key,Gl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Bv(e),i=Hv(e,function(e){return new zv(t.firestore,new rv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Iv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sy(t,cy);var e=sy(t.firestore,vy),n=by(e),r=new Cv(e);return function(t,e){var n=this,r=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(n,void 0,void 0,function(){var n;return Object(gt.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i;return Object(gt.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=rc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new $u(Gu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Ag(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Um(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new rv(e,r,t._key,n,new nv(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=sy(t,cy);var e=sy(t.firestore,vy);return Hm(by(e),t._key,{source:"server"}).then(function(n){return Av(e,t,n)})}(this._delegate):function(t){t=sy(t,cy);var e=sy(t.firestore,vy);return Hm(by(e),t._key).then(function(n){return Av(e,t,n)})}(this._delegate)).then(function(t){return new zv(e.firestore,new rv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Uv.tu(this.firestore,e):null))},t}();function qv(t,e,n){return t.message=t.message.replace(e,n),t}function Bv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!yy(r))return r}return{}}function Hv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=yy(t[0])?t[0]:yy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Vv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return av(this._delegate,t._delegate)},t}(),Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(gt.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(zv),Kv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Mv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,lv(this._delegate,function(t,e,n){var r=e,i=ev("where",t);return new hv(i,r,n)}(e,n,r)))}catch(e){throw qv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,lv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ev("orderBy",t);return new fv(r,n)}(e,n)))}catch(e){throw qv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lv(this._delegate,function(t){return oy("limit",t),new dv("limit",t,"F")}(e)))}catch(e){throw qv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lv(this._delegate,function(t){return oy("limitToLast",t),new dv("limitToLast",t,"L")}(e)))}catch(e){throw qv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw qv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw qv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw qv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw qv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return gy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=sy(t,ly);var e=sy(t.firestore,vy),n=by(e),r=new Cv(e);return function(t,e){var n=this,r=new Vf;return t.asyncQueue.enqueueAndForget(function(){return Object(gt.b)(n,void 0,void 0,function(){var n;return Object(gt.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(gt.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(gt.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,gp(t,e,!0)];case 1:return a=u.sent(),r=new Qg(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Ag(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Um(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new sv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=sy(t,ly);var e=sy(t.firestore,vy),n=by(e),r=new Cv(e);return zm(n,t._query,{source:"server"}).then(function(n){return new sv(e,r,t,n)})}(this._delegate):function(t){t=sy(t,ly);var e=sy(t.firestore,vy),n=by(e),r=new Cv(e);return uv(t._query),zm(n,t._query).then(function(n){return new sv(e,r,t,n)})}(this._delegate)).then(function(t){return new $v(e.firestore,new sv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Bv(e),i=Hv(e,function(e){return new $v(t.firestore,new sv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Iv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Uv.tu(this.firestore,e):null))},t}(),Gv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),$v=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Kv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Qv(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Gv(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Qv(n._firestore,r))})},t.prototype.isEqual=function(t){return av(this._delegate,t._delegate)},t}(),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(gt.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Vv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Vv(this.firestore,void 0===t?dy(this._delegate):dy(this._delegate,t))}catch(t){throw qv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=sy(t.firestore,vy),r=dy(t),i=wv(t._converter,e);return xv(n,[Ny(Dy(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Gl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Vv(e.firestore,t)})},e.prototype.isEqual=function(t){return py(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Uv.tu(this.firestore,t):null))},e}(Kv);function Yv(t){return sy(t,cy)}var Zv,Xv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ey.bind.apply(Ey,Object(gt.f)([void 0],t)))}return t.documentId=function(){return new t(yc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Bi.g)(t))instanceof Ey&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Jv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ly("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ry("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uy("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Vy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),tb=n("/6Yf"),eb={Firestore:Rv,GeoPoint:Ty,Timestamp:cc,Blob:Dv,Transaction:Lv,WriteBatch:Fv,DocumentReference:Vv,DocumentSnapshot:zv,Query:Kv,QueryDocumentSnapshot:Qv,QuerySnapshot:$v,CollectionReference:Wv,FieldPath:Xv,FieldValue:Jv,setLogLevel:function(t){Wu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function nb(t,e){return function(t,e=Ni.a){return new vt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function rb(t,e){return nb(t,e).pipe(Object(Ot.a)(t=>({payload:t,type:"query"})))}function ib(t,e){return rb(t,e).pipe(Se(void 0),Ri(),Object(Ot.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function sb(t,e,n){return ib(t,n).pipe(Ce((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ob(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ob(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ob(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Fi(void 0,void 0)),Object(Ot.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function ob(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ab(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new tb.a("firestore",function(t){return function(t,e){return new Rv(t,new vy(t,e),new Nv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},eb)))})(Zv=qi.a),Zv.registerVersion("@firebase/firestore","2.2.5");class ub{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ib(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ot.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Se(void 0),Ri(),Mt(([t,e])=>e.length>0||!t),Object(Ot.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ab(t);return sb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ot.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(wt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new cb(this.ref.doc(t),this.afs)}}class cb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=gb(n,e);return new ub(r,i,this.afs)}snapshotChanges(){return nb(this.ref,this.afs.schedulers.outsideAngular).pipe(Se(void 0),Ri(),Object(Ot.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ot.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(bt.a)(this.ref.get(t)).pipe(Object(wt.b)(this.afs.schedulers.insideAngular))}}class lb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ib(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ot.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Mt(t=>t.length>0),this.afs.keepUnstableUntilFirst):ib(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ab(t);return sb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ot.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(wt.b)(this.afs.schedulers.insideAngular))}}const hb=new r.r("angularfire2.enableFirestorePersistence"),fb=new r.r("angularfire2.firestore.persistenceSettings"),db=new r.r("angularfire2.firestore.settings"),pb=new r.r("angularfire2.firestore.use-emulator");function gb(t,e=(t=>t)){return{query:e(t),ref:t}}let mb=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new ee.d(s),this.keepUnstableUntilFirst=Object(ee.h)(this.schedulers);const c=Object(ee.g)(t,s,e);!Vi.a.auth&&u&&Object(ee.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(ee.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!D(i)){const e=()=>{try{return Object(bt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Zv){return"undefined"!=typeof console&&console.warn(Zv),Object(yt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(yt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=gb(n,e),s=this.schedulers.ngZone.run(()=>r);return new ub(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new lb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new cb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ee.c),r.Ub(ee.b,8),r.Ub(hb,8),r.Ub(db,8),r.Ub(r.C),r.Ub(r.A),r.Ub(fb,8),r.Ub(pb,8),r.Ub(ne,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(ee.c),Object(r.Ub)(ee.b,8),Object(r.Ub)(hb,8),Object(r.Ub)(db,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(fb,8),Object(r.Ub)(pb,8),Object(r.Ub)(ne,8))},token:t,providedIn:"any"}),t})(),yb=(()=>{class t{constructor(t,e,n){this.AFauth=t,this.router=e,this.db=n}getUserUid(){return new Promise((t,e)=>{this.AFauth.onAuthStateChanged(function(e){t(e?e.uid:"0")})})}getLogueado(){let t=this.AFauth.currentUser;return null!=t&&null!=t&&(console.log(JSON.stringify(t)),console.info(JSON.stringify(t)),!0)}getCurrentUser(){return this.AFauth.currentUser}isLoggedIn(){return this.AFauth.authState}login(t,e){return new Promise((n,r)=>{this.AFauth.signInWithEmailAndPassword(t,e).then(t=>{n(t)}).catch(t=>{r(t)})})}logout(){this.AFauth.signOut().then(()=>{this.router.navigate(["/Login"])})}register(t,e,n,r,i){return new Promise((s,o)=>{this.AFauth.createUserWithEmailAndPassword(r,i).then(r=>{console.log(r.user.uid);const i=r.user.uid;this.db.collection("usuarios").doc(r.user.uid).set({nombre:t,uid:i,perfil:"usuario",cuil:e,sexo:n,puntajes:[{ahorcadoG:0},{mayorMenosG:0},{preguntadosG:0},{simonG:0},{ahorcadoP:0},{mayorMenosP:0},{preguntadosP:0},{simonP:0}]}),s(r)}).catch(t=>{o(t)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ue),r.Ub(fi),r.Ub(mb))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vb(t,e){1&t&&(r.Qb(0,"a",9),r.kc(1,"Juegos"),r.Pb())}function bb(t,e){1&t&&(r.Qb(0,"a",9),r.kc(1,"Listados"),r.Pb())}function _b(t,e){1&t&&(r.Qb(0,"a",9),r.kc(1,"Quien Soy"),r.Pb())}function wb(t,e){if(1&t){const t=r.Rb();r.Qb(0,"a",10),r.Xb("click",function(){return r.dc(t),r.Zb().cerrarSesion()}),r.kc(1,"Cerrar Sesi\xf3n"),r.Pb()}}function Ob(t,e){if(1&t&&(r.Qb(0,"a",11),r.kc(1),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.lc(t.mail_usuario)}}function Eb(t,e){1&t&&(r.Qb(0,"a",12),r.kc(1,"Login"),r.Pb())}function Sb(t,e){1&t&&(r.Qb(0,"a",13),r.kc(1,"Registro"),r.Pb())}let Cb=(()=>{class t{constructor(t,e){this.authSv=t,this.router=e}ngOnInit(){this.authSv.isLoggedIn().subscribe(t=>{this.user=t,this.user?(this.estado_activo=!0,this.mail_usuario="sofia@sofia"):(this.estado_activo=!1,this.mail_usuario="")},t=>console.log(t))}cerrarSesion(){return Object(gt.b)(this,void 0,void 0,function*(){try{yield this.authSv.logout(),this.estado_activo=!1}catch(t){console.log("Error al cerrar sesion"+t)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(yb),r.Lb(fi))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-menu-principal"]],decls:11,vars:7,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["src","../assets/imagenes/loguito.jpg","alt","",1,"loguito"],["class","py-2 d-none d-md-inline-block","routerLink","QuienSoy","routerActive","activebutton",4,"ngIf"],["class","py-2 d-none d-md-inline-block","routerActive","activebutton",3,"click",4,"ngIf"],["class","py-2 d-none d-md-inline-block","routerActive","activebutton",4,"ngIf"],["class","py-2 d-none d-md-inline-block","routerLink","Login","routerActive","activebutton",4,"ngIf"],["class","py-2 d-none d-md-inline-block","routerLink","Registro","routerActive","activebutton",4,"ngIf"],["routerLink","QuienSoy","routerActive","activebutton",1,"py-2","d-none","d-md-inline-block"],["routerActive","activebutton",1,"py-2","d-none","d-md-inline-block",3,"click"],["routerActive","activebutton",1,"py-2","d-none","d-md-inline-block"],["routerLink","Login","routerActive","activebutton",1,"py-2","d-none","d-md-inline-block"],["routerLink","Registro","routerActive","activebutton",1,"py-2","d-none","d-md-inline-block"]],template:function(t,e){1&t&&(r.Qb(0,"nav",0),r.Qb(1,"div",1),r.Qb(2,"a",2),r.Mb(3,"img",3),r.Pb(),r.jc(4,vb,2,0,"a",4),r.jc(5,bb,2,0,"a",4),r.jc(6,_b,2,0,"a",4),r.jc(7,wb,2,0,"a",5),r.jc(8,Ob,2,1,"a",6),r.jc(9,Eb,2,0,"a",7),r.jc(10,Sb,2,0,"a",8),r.Pb(),r.Pb()),2&t&&(r.Ab(4),r.ac("ngIf",e.estado_activo),r.Ab(1),r.ac("ngIf",e.estado_activo),r.Ab(1),r.ac("ngIf",e.estado_activo),r.Ab(1),r.ac("ngIf",e.estado_activo),r.Ab(1),r.ac("ngIf",e.estado_activo),r.Ab(1),r.ac("ngIf",!e.estado_activo||null==e.estado_activo),r.Ab(1),r.ac("ngIf",!e.estado_activo||null==e.estado_activo))},directives:[A,di],styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.85);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:color .15s ease-in-out}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:hsla(0,0%,100%,.1);border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width:768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),t})(),Tb=(()=>{class t{constructor(){this.title="SalaDeJuegosSR"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-menu-principal"),r.Mb(1,"router-outlet"))},directives:[Cb,gi],styles:[""]}),t})(),Ib=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-quien-soy"]],decls:33,vars:0,consts:[[1,"contenedor","ld","ld-float-rtl-in"],[1,"menu"],[1,"contenedor_texto"],[1,"texto"],[1,"nombre"],[1,"profesion"],[1,"main"],[1,"acerca_de"],[1,"contenedor","ld","ld-blur-in"],[1,"foto","ld","ld-vortex-in"],["src","./assets/imagenes/yo.jpg","width","250","height","250","alt","Sofia Roumieu",1,"img"],["id","quien",1,"texto"],[1,"titulo"],[1,"redes_sociales"],[1,"contenedor"],["href","https://github.com/SofiaRoumieu",1,"github"],[1,"fa","fa-github"],["href","https://www.linkedin.com/in/sofia-roumieu-a9829717b",1,"linkedin"],[1,"fa","fa-linkedin"]],template:function(t,e){1&t&&(r.Qb(0,"header"),r.Qb(1,"div",0),r.Mb(2,"nav",1),r.Qb(3,"div",2),r.Qb(4,"div",3),r.Qb(5,"h1",4),r.kc(6,"Sofia Roumieu"),r.Pb(),r.Qb(7,"h2",5),r.kc(8,"Desarroladora Full Stack"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"section",6),r.Qb(10,"section",7),r.Qb(11,"div",8),r.Qb(12,"div",9),r.Mb(13,"img",10),r.Pb(),r.Qb(14,"div",11),r.Qb(15,"h3",12),r.kc(16,"Soy Sofia Roumieu, Alumna de la UTN FRA"),r.Pb(),r.Qb(17,"p"),r.kc(18,"Soy una desarroladora apasionada por lo que hace, siempre buscando la mejor forma para llevar a cabo mis trabajos y capacitandome constatemente para ser crecer profesionalmente. "),r.Pb(),r.Pb(),r.Mb(19,"hr"),r.Qb(20,"div",3),r.Qb(21,"h3",12),r.kc(22,"Descripci\xf3n del juego 'Simon Dice'"),r.Pb(),r.Qb(23,"p"),r.kc(24,"El juego consiste en que el usuario logre repetir la secuencia de colores que Sim\xf3n propone. Se comienza con un color y se van sumando de a uno a medida que las rondas pasan, incrementando la complejidad del juego. Mientras m\xe1s larga sea la secuencia, mayor cantidad de puntos sumar\xe1. Una vez que el usuario confunda la secuencia el juego finalizar\xe1, y se podr\xe1 iniciar uno nuevo desde el comienzo."),r.Pb(),r.Pb(),r.Mb(25,"hr"),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"footer"),r.Qb(27,"section",13),r.Qb(28,"div",14),r.Qb(29,"a",15),r.Mb(30,"i",16),r.Pb(),r.Qb(31,"a",17),r.Mb(32,"i",18),r.Pb(),r.Pb(),r.Pb(),r.Pb())},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-size:16px}.contenedor[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Open Sans}.contenedor[_ngcontent-%COMP%]{width:90%;max-width:1000px;margin:auto;overflow:hidden}header[_ngcontent-%COMP%]{background-image:url(/assets/imagenes/yo.jpg);background-repeat:no-repeat;background-position:50%;max-height:600px}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{margin:2rem 0;text-align:right}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 2rem;color:#fff;display:inline-block;text-decoration:none;border-bottom:2px solid transparent;padding-bottom:9px;font-size:1em}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(1,184,240,.87)}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]{display:flex;margin:190px 0;justify-content:center;align-content:center}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.5);padding:1rem;border-radius:3px;display:inline-block;text-align:center}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;margin:0}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{margin-bottom:10px;font-size:50px;line-height:50px;color:#fff}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .profesion[_ngcontent-%COMP%]{color:#fff;font-size:25px;line-height:25px}.main[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{overflow:visible}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]{margin-top:-60px}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{vertical-align:top;border-radius:50%;box-shadow:7px 7px 50px -7px #0c629c}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{font-weight:600;font-size:1em;line-height:30px;width:80%;margin:40px auto 60px}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:34px;line-height:34px;margin-bottom:40px;font-weight:400;color:brown;text-align:center}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{color:#3895ea}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]{background-color:#fff;padding:60px,0}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:3rem}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:34px;line-height:34px;margin-bottom:40px;font-weight:400;color:#3895ea;text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:30%;margin-bottom:40px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .thumd[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:13rem;border-radius:3%;vertical-align:top;margin-bottom:2rem;box-shadow:21px 29px 27px -22px #000}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{color:#3895ea;margin-bottom:10px;font-weight:700}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{font-weight:300;font-size:14px;color:#cac6c6}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]{background:#1e2b28;padding:60px 0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-align:center;width:100px;display:block;padding:15px,0;border-radius:10%;font-size:50px;margin:0 20px}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover{background:#4078c0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover{background:#0077b5}@media screen and (max-width:800px){header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:46%}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:150px;height:150px}}@media screen and (max-width:500px){header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-size:35px}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .profesion[_ngcontent-%COMP%]{font-size:18px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:80%;align-content:center;margin-left:3rem}}"]}),t})();class xb{}const Ab="*";function kb(t,e=null){return{type:4,styles:e,timings:t}}function jb(t,e=null){return{type:2,steps:t,options:e}}function Pb(t){return{type:6,styles:t,offset:null}}function Db(t,e,n){return{type:0,name:t,styles:e,options:n}}function Nb(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Rb(t){Promise.resolve(null).then(t)}class Mb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Rb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lb{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Rb(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Fb=["toast-component",""];function Ub(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Xb("click",function(){return r.dc(t),r.Zb().remove()}),r.Qb(1,"span",6),r.kc(2,"\xd7"),r.Pb(),r.Pb()}}function Vb(t,e){if(1&t&&(r.Ob(0),r.kc(1),r.Nb()),2&t){const t=r.Zb(2);r.Ab(1),r.mc("[",t.duplicatesCount+1,"]")}}function qb(t,e){if(1&t&&(r.Qb(0,"div"),r.kc(1),r.jc(2,Vb,2,1,"ng-container",4),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.mc(" ",t.title," "),r.Ab(1),r.ac("ngIf",t.duplicatesCount)}}function Bb(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.ac("innerHTML",t.message,r.ec)}}function Hb(t,e){if(1&t&&(r.Qb(0,"div",8),r.kc(1),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.mc(" ",t.message," ")}}function zb(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.hc("width",t.width+"%")}}function Qb(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Xb("click",function(){return r.dc(t),r.Zb().remove()}),r.Qb(1,"span",6),r.kc(2,"\xd7"),r.Pb(),r.Pb()}}function Kb(t,e){if(1&t&&(r.Ob(0),r.kc(1),r.Nb()),2&t){const t=r.Zb(2);r.Ab(1),r.mc("[",t.duplicatesCount+1,"]")}}function Gb(t,e){if(1&t&&(r.Qb(0,"div"),r.kc(1),r.jc(2,Kb,2,1,"ng-container",4),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.mc(" ",t.title," "),r.Ab(1),r.ac("ngIf",t.duplicatesCount)}}function $b(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.ac("innerHTML",t.message,r.ec)}}function Wb(t,e){if(1&t&&(r.Qb(0,"div",8),r.kc(1),r.Pb()),2&t){const t=r.Zb();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.mc(" ",t.message," ")}}function Yb(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.hc("width",t.width+"%")}}class Zb{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new mt.a,this._onAction=new mt.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Xb={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Jb=new r.r("ToastConfig");class t_{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class e_ extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let n_=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(o))},token:t,providedIn:"root"}),t})();class r_{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let i_=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new e_(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new r_(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(n_),r.Ub(r.j),r.Ub(r.g),r.Ub(o))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(n_),r.Ub(r.j),r.Ub(r.g),r.Ub(o))},token:t,providedIn:"root"}),t})();class s_{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new mt.a,this._activate=new mt.a,this._manualClose=new mt.a,this._resetTimeout=new mt.a,this._countDuplicate=new mt.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class o_{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Zb?this._toastPackage:this._parentInjector.get(t,e,n)}}let a_=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.I.HTML,e));const c=new s_(a),l=new Zb(this.index,i,u,n,t,c),h=new o_(l,this._injector),f=new t_(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Jb),r.Ub(i_),r.Ub(r.s),r.Ub(ct),r.Ub(r.A))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(Jb),r.Ub(i_),r.Ub(r.o),r.Ub(ct),r.Ub(r.A))},token:t,providedIn:"root"}),t})(),u_=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}var e;return t.\u0275fac=function(e){return new(e||t)(r.Lb(a_),r.Lb(Zb),r.Lb(r.A))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.ic("@flyInOut",e.state),r.Cb(e.toastClasses),r.hc("display",e.displayStyle))},attrs:Fb,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.jc(0,Ub,3,0,"button",0),r.jc(1,qb,3,5,"div",1),r.jc(2,Bb,1,3,"div",2),r.jc(3,Hb,2,4,"div",3),r.jc(4,zb,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.Ab(1),r.ac("ngIf",e.title),r.Ab(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.ac("ngIf",e.options.progressBar))},directives:[A],encapsulation:2,data:{animation:[(e=[Db("inactive",Pb({opacity:0})),Db("active",Pb({opacity:1})),Db("removed",Pb({opacity:0})),Nb("inactive => active",kb("{{ easeTime }}ms {{ easing }}")),Nb("active => removed",kb("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:e,options:{}})]}}),t})();const c_=Object.assign(Object.assign({},Xb),{toastComponent:u_});let l_=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Jb,useValue:{default:c_,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[P]]}),t})(),h_=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(a_),r.Lb(Zb),r.Lb(r.g))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Cb(e.toastClasses),r.hc("display",e.displayStyle))},attrs:Fb,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.jc(0,Qb,3,0,"button",0),r.jc(1,Gb,3,5,"div",1),r.jc(2,$b,1,3,"div",2),r.jc(3,Wb,2,4,"div",3),r.jc(4,Yb,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.Ab(1),r.ac("ngIf",e.title),r.Ab(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.ac("ngIf",e.options.progressBar))},directives:[A],encapsulation:2}),t})();Object.assign(Object.assign({},Xb),{toastComponent:h_});var f_=n("XoHu");function d_(t,e){return new vt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(bt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class p_{}const g_=new r.r("NgValueAccessor"),m_={provide:g_,useExisting:Object(r.U)(()=>v_),multi:!0},y_=new r.r("CompositionEventMode");let v_=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(y_,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([m_])]}),t})();const b_=new r.r("NgValidators"),__=new r.r("NgAsyncValidators");function w_(t){return null!=t}function O_(t){const e=Object(r.rb)(t)?Object(bt.a)(t):t;return Object(r.qb)(e),e}function E_(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function S_(t,e){return e.map(e=>e(t))}function C_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function T_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(w_);return 0==e.length?null:function(t){return E_(S_(t,e))}}(C_(t)):null}function I_(t){return null!=t?function(t){if(!t)return null;const e=t.filter(w_);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(he.a)(e))return d_(e,null);if(Object(f_.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return d_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return d_(t=1===t.length&&Object(he.a)(t[0])?t[0]:t,null).pipe(Object(Ot.a)(t=>e(...t)))}return d_(t,null)}(S_(t,e).map(O_)).pipe(Object(Ot.a)(E_))}}(C_(t)):null}function x_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let A_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=T_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=I_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),k_=(()=>{class t extends A_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return j_(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const j_=r.Sb(k_);class P_ extends A_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class D_{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let N_=(()=>{class t extends D_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(P_,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),R_=(()=>{class t extends D_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(k_,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function M_(t,e){F_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&U_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&U_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function L_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function F_(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(x_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(x_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();L_(e._rawValidators,n),L_(e._rawAsyncValidators,n)}}function U_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function V_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const q_="VALID",B_="INVALID",H_="PENDING",z_="DISABLED";function Q_(t){return(W_(t)?t.validators:t)||null}function K_(t){return Array.isArray(t)?T_(t):t||null}function G_(t,e){return(W_(e)?e.asyncValidators:t)||null}function $_(t){return Array.isArray(t)?I_(t):t||null}function W_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Y_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=K_(this._rawValidators),this._composedAsyncValidatorFn=$_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===q_}get invalid(){return this.status===B_}get pending(){return this.status==H_}get disabled(){return this.status===z_}get enabled(){return this.status!==z_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=K_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=H_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=z_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=q_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==q_&&this.status!==H_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?z_:q_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=H_,this._hasOwnPendingAsyncValidator=!0;const e=O_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof X_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof J_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?z_:this.errors?B_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(H_)?H_:this._anyControlsHaveStatus(B_)?B_:q_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){W_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Z_ extends Y_{constructor(t=null,e,n){super(Q_(e),G_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){V_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){V_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class X_ extends Y_{constructor(t,e,n){super(Q_(e),G_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Z_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class J_ extends Y_{constructor(t,e,n){super(Q_(e),G_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Z_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const tw={provide:k_,useExisting:Object(r.U)(()=>nw)},ew=(()=>Promise.resolve(null))();let nw=(()=>{class t extends k_{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new X_({},T_(t),I_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ew.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),M_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ew.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),V_(this._directives,t)})}addFormGroup(t){ew.then(()=>{const e=this._findContainer(t.path),n=new X_({});(function(t,e){F_(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ew.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ew.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(b_,10),r.Lb(__,10))},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([tw]),r.xb]}),t})();const rw={provide:P_,useExisting:Object(r.U)(()=>sw)},iw=(()=>Promise.resolve(null))();let sw=(()=>{class t extends P_{constructor(t,e,n,i){super(),this.control=new Z_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===v_?n=t:Object.getPrototypeOf(t.constructor)===p_?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){M_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;iw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(k_,9),r.Lb(b_,10),r.Lb(__,10),r.Lb(g_,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([rw]),r.xb,r.yb]}),t})(),ow=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const aw={provide:g_,useExisting:Object(r.U)(()=>uw),multi:!0};let uw=(()=>{class t extends p_{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([aw]),r.xb]}),t})(),cw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();const lw={provide:g_,useExisting:Object(r.U)(()=>fw),multi:!0};function hw(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let fw=(()=>{class t extends p_{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=hw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([lw]),r.xb]}),t})(),dw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(fw,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const pw={provide:g_,useExisting:Object(r.U)(()=>mw),multi:!0};function gw(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let mw=(()=>{class t extends p_{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([pw]),r.xb]}),t})(),yw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(gw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(gw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(mw,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const vw={provide:b_,useExisting:Object(r.U)(()=>bw),multi:!0};let bw=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([vw])]}),t})(),_w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[cw]]}),t})(),ww=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[_w]}),t})();function Ow(t,e){1&t&&(r.Qb(0,"div",11),r.Mb(1,"img",12),r.Pb())}function Ew(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",13),r.Xb("click",function(){return r.dc(t),r.Zb().Entrar()}),r.kc(1,"Ingresar"),r.Pb()}}const Sw=function(){return{standalone:!0}},Cw=[{path:"QuienSoy",component:Ib},{path:"Login",component:(()=>{class t{constructor(t,e,n,r){this.route=t,this.rutas=e,this.auth=n,this.toast=r,this.email="",this.clave="",this.nombre="",this.estado=!1,this.progresoMensaje="esperando...",this.logeando=!0,this.spiner=!1,this.emailClass="form-control",this.claveClass="form-control",this.clase="progress-bar progress-bar-info progress-bar-striped ",this.progreso=0,this.ProgresoDeAncho="0%"}ngOnInit(){}invitado(){this.email="invitado@invitado.com",this.clave="123456"}invitado2(){this.email="sofia@saladejuegossr.com",this.clave="123456"}Entrar(){this.spiner=!0,this.emailClass="form-control",this.claveClass="form-control",this.email.length<4&&(this.emailClass="form-control error"),this.clave.length<4&&(this.claveClass="form-control error"),this.auth.login(this.email,this.clave).then(t=>{this.spiner=!1,this.rutas.navigate(["/Home"]).then(()=>this.usuarioLogueado())}).catch(t=>{this.toast.error("Los datos son incorrectos o no existe el usuario"),this.spiner=!1,this.logeando=!0})}usuarioLogueado(){let t=this.auth.getUserUid();null==t?this.estado=!1:null!=t&&(console.log("UID::"+JSON.stringify(t)),this.estado=!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Kn),r.Lb(fi),r.Lb(yb),r.Lb(a_))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-login"]],decls:20,vars:6,consts:[["id","id01"],[1,"form-signin","modal-content",2,"margin-top","3rem"],[1,"h3","mb-3","font-weight-normal"],[2,"justify-content","center","display","flex","flex-direction","row","flex-wrap","wrap","margin-bottom","2rem"],["onclick","this.blur();",1,"btn-warning","btn-sm","invitado",3,"click"],["style","position: absolute; justify-content: center; width:100%; z-index: 999;","class","row",4,"ngIf"],[1,"container"],["id","email","type","email","placeholder","Email","name","uname","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["type","password","placeholder","Clave","name","psw","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"divBoton"],["class","btn-success btn-sm button","type","submit","onclick","this.blur();",3,"click",4,"ngIf"],[1,"row",2,"position","absolute","justify-content","center","width","100%","z-index","999"],["src","../../../assets/imagenes/spiner.gif","alt",""],["type","submit","onclick","this.blur();",1,"btn-success","btn-sm","button",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"form",1),r.Qb(2,"h1",2),r.kc(3,"Inicio de Sesi\xf3n"),r.Pb(),r.Qb(4,"div",3),r.Qb(5,"button",4),r.Xb("click",function(){return e.invitado()}),r.kc(6,"Ingresar como invitado"),r.Pb(),r.Pb(),r.jc(7,Ow,2,0,"div",5),r.Qb(8,"div",6),r.Qb(9,"label"),r.Qb(10,"b"),r.kc(11,"Email"),r.Pb(),r.Pb(),r.Qb(12,"input",7),r.Xb("ngModelChange",function(t){return e.email=t}),r.Pb(),r.Qb(13,"label"),r.Qb(14,"b"),r.kc(15,"Clave"),r.Pb(),r.Pb(),r.Qb(16,"input",8),r.Xb("ngModelChange",function(t){return e.clave=t}),r.Pb(),r.Qb(17,"div",9),r.jc(18,Ew,2,0,"button",10),r.Pb(),r.Mb(19,"br"),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(7),r.ac("ngIf",e.spiner),r.Ab(5),r.ac("ngClass",e.emailClass)("ngModel",e.email),r.Ab(4),r.ac("ngClass",e.claveClass)("ngModel",e.clave),r.Ab(2),r.ac("ngIf",e.logeando))},directives:[ow,R_,nw,A,v_,bw,x,N_,sw],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:5% auto 15%;border:1px solid #888;border-radius:2rem;width:50%}input[_ngcontent-%COMP%]{border-radius:1rem;margin-bottom:2rem}"]}),t})()},{path:"Registro",component:(()=>{class t{constructor(t,e,n){this.toastr=t,this.authService=e,this.router=n}registro(){null!=this.user&&null!=this.cuil&&null!=this.sexo&&null!=this.email&&null!=this.clave&&null!=this.clave2?this.clave==this.clave2?this.authService.register(this.user,this.cuil,this.sexo,this.email,this.clave).then(t=>{this.authService.login(this.email,this.clave).then(t=>{this.router.navigate(["/Home"])})}).catch(t=>{this.toastr.error(t,"ERROR")}):this.toastr.error("Las claves no coinciden","ERROR"):this.toastr.error("Datos incompletos o inv\xe1lidos","ERROR")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(a_),r.Lb(yb),r.Lb(fi))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-registro"]],decls:35,vars:18,consts:[[1,"modal-content"],[1,"container"],[1,"h3","mb-3","font-weight-normal"],["type","text","placeholder","Ingrese su nombre de usuario","name","user","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","placeholder","Ingrese su Cuit/Cuil","name","email","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"browser-default","custom-select",3,"ngModel","ngModelOptions","ngModelChange"],["selected","","value","Femenino"],["value","Masculino"],["type","email","placeholder","Ingrese su correo","name","email","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","placeholder","Ingrese su contrase\xf1a","name","psw","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","placeholder","Repita la contrase\xf1a","name","psw-repeat","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"divBoton",2,"margin-top","10px"],["type","submit","onclick","this.blur();",1,"btn-success","btn-sm","boton",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"form",0),r.Qb(1,"div",1),r.Qb(2,"h1",2),r.kc(3,"Registro de Usuario"),r.Pb(),r.Qb(4,"label"),r.Qb(5,"b"),r.kc(6,"Usuario"),r.Pb(),r.Pb(),r.Qb(7,"input",3),r.Xb("ngModelChange",function(t){return e.user=t}),r.Pb(),r.Qb(8,"label"),r.Qb(9,"b"),r.kc(10,"Cuil"),r.Pb(),r.Pb(),r.Qb(11,"input",4),r.Xb("ngModelChange",function(t){return e.cuil=t}),r.Pb(),r.Qb(12,"label"),r.Qb(13,"b"),r.kc(14,"Sexo"),r.Pb(),r.Pb(),r.Qb(15,"select",5),r.Xb("ngModelChange",function(t){return e.sexo=t}),r.Qb(16,"option",6),r.kc(17,"Femenino"),r.Pb(),r.Qb(18,"option",7),r.kc(19,"Masculino"),r.Pb(),r.Pb(),r.Qb(20,"label"),r.Qb(21,"b"),r.kc(22,"Email"),r.Pb(),r.Pb(),r.Qb(23,"input",8),r.Xb("ngModelChange",function(t){return e.email=t}),r.Pb(),r.Qb(24,"label"),r.Qb(25,"b"),r.kc(26,"Clave"),r.Pb(),r.Pb(),r.Qb(27,"input",9),r.Xb("ngModelChange",function(t){return e.clave=t}),r.Pb(),r.Qb(28,"label"),r.Qb(29,"b"),r.kc(30,"Repita la clave"),r.Pb(),r.Pb(),r.Qb(31,"input",10),r.Xb("ngModelChange",function(t){return e.clave2=t}),r.Pb(),r.Qb(32,"div",11),r.Qb(33,"button",12),r.Xb("click",function(){return e.registro()}),r.kc(34,"Registrarme"),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(7),r.ac("ngModel",e.user)("ngModelOptions",r.bc(12,Sw)),r.Ab(4),r.ac("ngModel",e.cuil)("ngModelOptions",r.bc(13,Sw)),r.Ab(4),r.ac("ngModel",e.sexo)("ngModelOptions",r.bc(14,Sw)),r.Ab(8),r.ac("ngModel",e.email)("ngModelOptions",r.bc(15,Sw)),r.Ab(4),r.ac("ngModel",e.clave)("ngModelOptions",r.bc(16,Sw)),r.Ab(4),r.ac("ngModel",e.clave2)("ngModelOptions",r.bc(17,Sw)))},directives:[ow,R_,nw,v_,bw,N_,sw,uw,fw,dw,yw],styles:['.container[_ngcontent-%COMP%]{padding:16px}input[_ngcontent-%COMP%]{border-radius:1rem}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:3% auto 15%;border:1px solid #888;border-radius:2rem;width:50%}.clearfix[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.imgcontainer[_ngcontent-%COMP%]{text-align:center;overflow:hidden}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;width:auto;height:auto}']}),t})()},{path:"Home",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-home"]],decls:1,vars:0,consts:[[1,"bodyFondo"]],template:function(t,e){1&t&&r.Mb(0,"body",0)},styles:[""]}),t})()},{path:"",redirectTo:"Home",pathMatch:"full"},{path:"**",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-error"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Qb(0,"p"),r.kc(1,"error works!"),r.Pb())},styles:[""]}),t})()}];let Tw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[Ci.forRoot(Cw)],Ci]}),t})();const Iw={apiKey:"AIzaSyCl44qz3MBUFlATyimN_TmUOYnQ6_P60TE",authDomain:"probandologin-72305.firebaseapp.com",databaseURL:"https://probandologin-72305.firebaseio.com",projectId:"probandologin-72305",storageBucket:"probandologin-72305.appspot.com",messagingSenderId:"350517879099",appId:"1:350517879099:web:02b00985bc0270f999171e",measurementId:"G-GMDS6DLJQ7"};function xw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Aw(t){switch(t.length){case 0:return new Mb;case 1:return t[0];default:return new Lb(t)}}function kw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Ab:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function jw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Pw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Pw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Pw(n,"destroy",t)))}}function Pw(t,e,n){const r=n.totalTime,i=Dw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Dw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Nw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Rw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Mw=(t,e)=>!1,Lw=(t,e)=>!1,Fw=(t,e,n)=>[];const Uw=xw();(Uw||"undefined"!=typeof Element)&&(Mw=(t,e)=>t.contains(e),Lw=(()=>{if(Uw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Lw}})(),Fw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Vw=null,qw=!1;function Bw(t){Vw||(Vw=("undefined"!=typeof document?document.body:null)||{},qw=!!Vw.style&&"WebkitAppearance"in Vw.style);let e=!0;return Vw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Vw.style,!e&&qw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Vw.style),e}const Hw=Lw,zw=Mw,Qw=Fw;function Kw(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Gw=(()=>{class t{validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Hw(t,e)}containsElement(t,e){return zw(t,e)}query(t,e,n){return Qw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Mb(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),$w=(()=>{class t{}return t.NOOP=new Gw,t})();const Ww="ng-enter",Yw="ng-leave",Zw="ng-trigger",Xw=".ng-trigger",Jw="ng-animating",tO=".ng-animating";function eO(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nO(parseFloat(e[1]),e[2])}function nO(t,e){switch(e){case"s":return 1e3*t;default:return t}}function rO(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=nO(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=nO(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function iO(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function sO(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else iO(t,n);return n}function oO(t,e,n){return n?e+":"+n+";":""}function aO(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=oO(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=oO(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function uO(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=mO(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),xw()&&aO(t))}function cO(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=mO(e);t.style[n]=""}),xw()&&aO(t))}function lO(t){return Array.isArray(t)?1==t.length?t[0]:jb(t):t}const hO=new RegExp("{{\\s*(.+?)\\s*}}","g");function fO(t){let e=[];if("string"==typeof t){let n;for(;n=hO.exec(t);)e.push(n[1]);hO.lastIndex=0}return e}function dO(t,e,n){const r=t.toString(),i=r.replace(hO,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function pO(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const gO=/-+([a-z0-9])/g;function mO(t){return t.replace(gO,(...t)=>t[1].toUpperCase())}function yO(t,e){return 0===t||0===e}function vO(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=_O(t,e)})}}return e}function bO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function _O(t,e){return window.getComputedStyle(t)[e]}const wO="*";function OO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(CO(i,o)),"<"!=s[0]||i==wO&&o==wO||e.push(CO(o,i))}(t,n,e)):n.push(t),n}const EO=new Set(["true","1"]),SO=new Set(["false","0"]);function CO(t,e){const n=EO.has(t)||SO.has(t),r=EO.has(e)||SO.has(e);return(i,s)=>{let o=t==wO||t==i,a=e==wO||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?EO.has(t):SO.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?EO.has(e):SO.has(e)),o&&a}}const TO=new RegExp("s*:selfs*,?","g");function IO(t,e,n){return new xO(t).build(e,n)}class xO{constructor(t){this._driver=t}build(t,e){const n=new AO(e);return this._resetContextStyleTimingState(n),bO(this,lO(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(kO(t)){const e=t;Object.keys(e).forEach(t=>{fO(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=pO(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=bO(this,lO(t.animation),e);return{type:1,matchers:OO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:jO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>bO(this,t,e)),options:jO(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=bO(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:jO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return PO(rO(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=PO(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||rO(r,e),PO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Pb({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Pb(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ab?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(kO(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=fO(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(kO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(kO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:bO(this,lO(t.animation),e),options:jO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(TO,"")),[t=t.replace(/@\*/g,Xw).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,tO),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Nw(e.collectedStyles,e.currentQuerySelector,{});const o=bO(this,lO(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:jO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:rO(t.timings,e.errors,!0);return{type:12,animation:bO(this,lO(t.animation),e),timings:n,options:null}}}class AO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function kO(t){return!Array.isArray(t)&&"object"==typeof t}function jO(t){var e;return t?(t=iO(t)).params&&(t.params=(e=t.params)?iO(e):null):t={},t}function PO(t,e,n){return{duration:t,delay:e,easing:n}}function DO(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class NO{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const RO=new RegExp(":enter","g"),MO=new RegExp(":leave","g");function LO(t,e,n,r,i,s={},o={},a,u,c=[]){return(new FO).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class FO{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new NO;const l=new VO(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),bO(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[DO(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?eO(n.duration):null,s=null!=n.delay?eO(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),bO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=UO);const t=eO(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>bO(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?eO(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),bO(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return rO(e.params?dO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?eO(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=UO);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),bO(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;bO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const UO={};class VO{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=UO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new qO(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=eO(n.duration)),null!=n.delay&&(r.delay=eO(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=dO(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new VO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=UO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new BO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(RO,"."+this._enterClassName)).replace(MO,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class qO{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ab,this._currentKeyframe[t]=Ab}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Ab})):sO(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=dO(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ab),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=sO(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Ab&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?pO(t.values()):[],s=e.size?pO(e.values()):[];if(n){const t=r[0],e=iO(t);t.offset=0,e.offset=1,r=[t,e]}return DO(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class BO extends qO{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=sO(t[0],!1);a.offset=0,i.push(a);const u=sO(t[0],!1);u.offset=HO(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=sO(t[r],!1);o.offset=HO((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return DO(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function HO(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class zO{}class QO extends zO{normalizePropertyName(t,e){return mO(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(KO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const KO=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GO(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const $O={};class WO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||$O,f=this.buildStyles(n,o&&o.params||$O,l),d=a&&a.params||$O,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:LO(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return GO(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Nw(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Nw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=pO(g.values());return GO(e,this._triggerName,n,r,v,f,p,_,O,m,y,w)}}class YO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=iO(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=dO(s,r,e)),n[t]=s})}}),n}}class ZO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new YO(t.style,t.options&&t.options.params||{})}),XO(this.states,"true","1"),XO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new WO(t,e,this.states))}),this.fallbackTransition=new WO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function XO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const JO=new NO;class tE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=IO(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=kw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=LO(this._driver,e,i,Ww,Yw,{},{},n,JO,r),s.forEach(t=>{const e=Nw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ab)})});const a=Aw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Dw(e,"","","");return jw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const eE="ng-animate-queued",nE="ng-animate-disabled",rE=".ng-animate-disabled",iE=[],sE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class aE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=iO(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const uE="void",cE=new aE(uE);class lE{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yE(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Nw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Nw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(yE(t,Zw),yE(t,"ng-trigger-"+e),a[e]=cE),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new fE(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(yE(t,Zw),yE(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new aE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=cE),u.value!==uE&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{cO(t,n),uO(t,r)})}return}const c=Nw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(yE(t,eE),s.onStart(()=>{vE(t,eE)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Xw,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,uE,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Aw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||cE,a=new aE(uE),u=new fE(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==sE||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){yE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Dw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,jw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class hE{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new lE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(dE(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!dE(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yE(t,nE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vE(t,nE))}removeNode(t,e,n,r){if(dE(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return dE(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Xw,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,tO,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Aw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=sE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,rE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,rE,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)yE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Aw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new NO,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=mE(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Ww+p++;d.set(e,n),t.forEach(t=>yE(t,n))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=mE(h,Array.from(m));b.forEach((t,e)=>{const n=Yw+p++;v.set(e,n),t.forEach(t=>yE(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>vE(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>vE(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>cO(i,p.fromStyles)),e.onDestroy(()=>uO(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>cO(i,p.fromStyles)),e.onDestroy(()=>uO(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Nw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Nw(O,e,[]).push(t),t.destroy()})});const S=g.filter(t=>wE(t,a,u)),C=new Map;gE(C,this.driver,y,u,Ab).forEach(t=>{wE(t,a,u)&&S.push(t)});const T=new Map;f.forEach((t,e)=>{gE(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>uO(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,T,C);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Aw(e)),r.push(s)}}else cO(e,o.fromStyles),s.onDestroy(()=>uO(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Aw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t.__ng_removed;if(vE(t,Yw),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,tO,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?bE(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==uE;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Nw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}cO(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Mb(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return _E(t,e),e}((n.get(h)||iE).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=kw(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new fE(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Nw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>yE(t,Jw));const f=Aw(h);return f.onDestroy(()=>{c.forEach(t=>vE(t,Jw)),uO(a,e.toStyles)}),l.forEach(t=>{Nw(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Mb(t.duration,t.delay)}}class fE{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Mb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>jw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dE(t){return t&&1===t.nodeType}function pE(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function gE(t,e,n,r,i){const s=[];n.forEach(t=>s.push(pE(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=oE,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>pE(t,s[a++])),o}function mE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function yE(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function vE(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function bE(t,e,n){Aw(n).onDone(()=>t.processLeaveNode(e))}function _E(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Lb?_E(r.players,e):e.push(r)}}function wE(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class OE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new hE(t,e,n),this._timelineEngine=new tE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=IO(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new ZO(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Rw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Rw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function EE(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=CE(e[0]),e.length>1&&(r=CE(e[e.length-1]))):e&&(n=CE(e)),n||r?new SE(t,n,r):null}let SE=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&uO(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uO(this._element,this._initialStyles),this._endStyles&&(uO(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(cO(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cO(this._element,this._endStyles),this._endStyles=null),uO(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function CE(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];TE(i)&&(e=e||{},e[i]=t[i])}return e}function TE(t){return"display"===t||"position"===t}const IE="animation",xE="animationend";class AE{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=RE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),NE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),DE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){kE(this._element,this._name,"paused")}resume(){kE(this._element,this._name,"running")}setPosition(t){const e=jE(this._element,this._name);this._position=t*this._duration,NE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),DE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=RE(t,"").split(","),r=PE(n,e);r>=0&&(n.splice(r,1),NE(t,"",n.join(",")))}(this._element,this._name))}}function kE(t,e,n){NE(t,"PlayState",n,jE(t,e))}function jE(t,e){const n=RE(t,"");return n.indexOf(",")>0?PE(n.split(","),e):PE([n],e)}function PE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function DE(t,e,n){n?t.removeEventListener(xE,e):t.addEventListener(xE,e)}function NE(t,e,n,r){const i=IE+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function RE(t,e){return t.style[IE+e]||""}class ME{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new AE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:_O(this.element,n))})}this.currentSnapshot=t}}class LE extends Mb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Kw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class FE{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Hw(t,e)}containsElement(t,e){return zw(t,e)}query(t,e,n){return Qw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Kw(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof ME),u={};yO(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=vO(t,e,u));if(0==n)return new LE(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=EE(t,e),d=new ME(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class UE{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:_O(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class VE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qE().toString()),this._cssKeyframesDriver=new FE}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Hw(t,e)}containsElement(t,e){return zw(t,e)}query(t,e,n){return Qw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof UE);yO(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=EE(t,e=vO(t,e=e.map(t=>sO(t,!1)),u));return new UE(t,e,a,l)}}function qE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let BE=(()=>{class t extends xb{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?jb(t):t;return QE(this._renderer,null,e,"register",[n]),new HE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(o))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class HE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zE(this._id,t,e||{},this._renderer)}}class zE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return QE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function QE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const KE="@",GE="@.disabled";let $E=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new WE("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new YE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(OE),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class WE{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==KE&&e==GE?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class YE extends WE{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==KE?"."==e.charAt(1)&&e==GE?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==KE){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=KE&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ZE=(()=>{class t extends OE{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o),r.Ub($w),r.Ub(zO))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const XE=[{provide:$w,useFactory:function(){return"function"==typeof qE()?new VE:new FE}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:xb,useClass:BE},{provide:zO,useFactory:function(){return new QO}},{provide:OE,useClass:ZE},{provide:r.F,useFactory:function(t,e,n){return new $E(t,e,n)},deps:[J,OE,r.A]}];let JE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:XE,imports:[pt]}),t})(),tS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[Tb]}),t.\u0275inj=r.Ib({providers:[],imports:[[P,pt,Tw,ee.a.initializeApp(Iw),ww,JE,l_.forRoot()]]}),t})();Object(r.T)(),ft().bootstrapModule(tS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);